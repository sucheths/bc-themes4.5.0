(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[5],{

/***/ "./node_modules/core-js/internals/collection-weak.js":
/*!***********************************************************!*\
  !*** ./node_modules/core-js/internals/collection-weak.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var redefineAll = __webpack_require__(/*! ../internals/redefine-all */ "./node_modules/core-js/internals/redefine-all.js");
var getWeakData = __webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js").getWeakData;
var anObject = __webpack_require__(/*! ../internals/an-object */ "./node_modules/core-js/internals/an-object.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");
var ArrayIterationModule = __webpack_require__(/*! ../internals/array-iteration */ "./node_modules/core-js/internals/array-iteration.js");
var $has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");
var InternalStateModule = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js");

var setInternalState = InternalStateModule.set;
var internalStateGetterFor = InternalStateModule.getterFor;
var find = ArrayIterationModule.find;
var findIndex = ArrayIterationModule.findIndex;
var id = 0;

// fallback for uncaught frozen keys
var uncaughtFrozenStore = function (store) {
  return store.frozen || (store.frozen = new UncaughtFrozenStore());
};

var UncaughtFrozenStore = function () {
  this.entries = [];
};

var findUncaughtFrozen = function (store, key) {
  return find(store.entries, function (it) {
    return it[0] === key;
  });
};

UncaughtFrozenStore.prototype = {
  get: function (key) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) return entry[1];
  },
  has: function (key) {
    return !!findUncaughtFrozen(this, key);
  },
  set: function (key, value) {
    var entry = findUncaughtFrozen(this, key);
    if (entry) entry[1] = value;
    else this.entries.push([key, value]);
  },
  'delete': function (key) {
    var index = findIndex(this.entries, function (it) {
      return it[0] === key;
    });
    if (~index) this.entries.splice(index, 1);
    return !!~index;
  }
};

module.exports = {
  getConstructor: function (wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER) {
    var C = wrapper(function (that, iterable) {
      anInstance(that, C, CONSTRUCTOR_NAME);
      setInternalState(that, {
        type: CONSTRUCTOR_NAME,
        id: id++,
        frozen: undefined
      });
      if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);
    });

    var getInternalState = internalStateGetterFor(CONSTRUCTOR_NAME);

    var define = function (that, key, value) {
      var state = getInternalState(that);
      var data = getWeakData(anObject(key), true);
      if (data === true) uncaughtFrozenStore(state).set(key, value);
      else data[state.id] = value;
      return that;
    };

    redefineAll(C.prototype, {
      // 23.3.3.2 WeakMap.prototype.delete(key)
      // 23.4.3.3 WeakSet.prototype.delete(value)
      'delete': function (key) {
        var state = getInternalState(this);
        if (!isObject(key)) return false;
        var data = getWeakData(key);
        if (data === true) return uncaughtFrozenStore(state)['delete'](key);
        return data && $has(data, state.id) && delete data[state.id];
      },
      // 23.3.3.4 WeakMap.prototype.has(key)
      // 23.4.3.4 WeakSet.prototype.has(value)
      has: function has(key) {
        var state = getInternalState(this);
        if (!isObject(key)) return false;
        var data = getWeakData(key);
        if (data === true) return uncaughtFrozenStore(state).has(key);
        return data && $has(data, state.id);
      }
    });

    redefineAll(C.prototype, IS_MAP ? {
      // 23.3.3.3 WeakMap.prototype.get(key)
      get: function get(key) {
        var state = getInternalState(this);
        if (isObject(key)) {
          var data = getWeakData(key);
          if (data === true) return uncaughtFrozenStore(state).get(key);
          return data ? data[state.id] : undefined;
        }
      },
      // 23.3.3.5 WeakMap.prototype.set(key, value)
      set: function set(key, value) {
        return define(this, key, value);
      }
    } : {
      // 23.4.3.1 WeakSet.prototype.add(value)
      add: function add(value) {
        return define(this, value, true);
      }
    });

    return C;
  }
};


/***/ }),

/***/ "./node_modules/core-js/internals/collection.js":
/*!******************************************************!*\
  !*** ./node_modules/core-js/internals/collection.js ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var $ = __webpack_require__(/*! ../internals/export */ "./node_modules/core-js/internals/export.js");
var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");
var isForced = __webpack_require__(/*! ../internals/is-forced */ "./node_modules/core-js/internals/is-forced.js");
var redefine = __webpack_require__(/*! ../internals/redefine */ "./node_modules/core-js/internals/redefine.js");
var InternalMetadataModule = __webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js");
var iterate = __webpack_require__(/*! ../internals/iterate */ "./node_modules/core-js/internals/iterate.js");
var anInstance = __webpack_require__(/*! ../internals/an-instance */ "./node_modules/core-js/internals/an-instance.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");
var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");
var checkCorrectnessOfIteration = __webpack_require__(/*! ../internals/check-correctness-of-iteration */ "./node_modules/core-js/internals/check-correctness-of-iteration.js");
var setToStringTag = __webpack_require__(/*! ../internals/set-to-string-tag */ "./node_modules/core-js/internals/set-to-string-tag.js");
var inheritIfRequired = __webpack_require__(/*! ../internals/inherit-if-required */ "./node_modules/core-js/internals/inherit-if-required.js");

module.exports = function (CONSTRUCTOR_NAME, wrapper, common) {
  var IS_MAP = CONSTRUCTOR_NAME.indexOf('Map') !== -1;
  var IS_WEAK = CONSTRUCTOR_NAME.indexOf('Weak') !== -1;
  var ADDER = IS_MAP ? 'set' : 'add';
  var NativeConstructor = global[CONSTRUCTOR_NAME];
  var NativePrototype = NativeConstructor && NativeConstructor.prototype;
  var Constructor = NativeConstructor;
  var exported = {};

  var fixMethod = function (KEY) {
    var nativeMethod = NativePrototype[KEY];
    redefine(NativePrototype, KEY,
      KEY == 'add' ? function add(value) {
        nativeMethod.call(this, value === 0 ? 0 : value);
        return this;
      } : KEY == 'delete' ? function (key) {
        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
      } : KEY == 'get' ? function get(key) {
        return IS_WEAK && !isObject(key) ? undefined : nativeMethod.call(this, key === 0 ? 0 : key);
      } : KEY == 'has' ? function has(key) {
        return IS_WEAK && !isObject(key) ? false : nativeMethod.call(this, key === 0 ? 0 : key);
      } : function set(key, value) {
        nativeMethod.call(this, key === 0 ? 0 : key, value);
        return this;
      }
    );
  };

  // eslint-disable-next-line max-len
  if (isForced(CONSTRUCTOR_NAME, typeof NativeConstructor != 'function' || !(IS_WEAK || NativePrototype.forEach && !fails(function () {
    new NativeConstructor().entries().next();
  })))) {
    // create collection constructor
    Constructor = common.getConstructor(wrapper, CONSTRUCTOR_NAME, IS_MAP, ADDER);
    InternalMetadataModule.REQUIRED = true;
  } else if (isForced(CONSTRUCTOR_NAME, true)) {
    var instance = new Constructor();
    // early implementations not supports chaining
    var HASNT_CHAINING = instance[ADDER](IS_WEAK ? {} : -0, 1) != instance;
    // V8 ~ Chromium 40- weak-collections throws on primitives, but should return false
    var THROWS_ON_PRIMITIVES = fails(function () { instance.has(1); });
    // most early implementations doesn't supports iterables, most modern - not close it correctly
    // eslint-disable-next-line no-new
    var ACCEPT_ITERABLES = checkCorrectnessOfIteration(function (iterable) { new NativeConstructor(iterable); });
    // for early implementations -0 and +0 not the same
    var BUGGY_ZERO = !IS_WEAK && fails(function () {
      // V8 ~ Chromium 42- fails only with 5+ elements
      var $instance = new NativeConstructor();
      var index = 5;
      while (index--) $instance[ADDER](index, index);
      return !$instance.has(-0);
    });

    if (!ACCEPT_ITERABLES) {
      Constructor = wrapper(function (dummy, iterable) {
        anInstance(dummy, Constructor, CONSTRUCTOR_NAME);
        var that = inheritIfRequired(new NativeConstructor(), dummy, Constructor);
        if (iterable != undefined) iterate(iterable, that[ADDER], that, IS_MAP);
        return that;
      });
      Constructor.prototype = NativePrototype;
      NativePrototype.constructor = Constructor;
    }

    if (THROWS_ON_PRIMITIVES || BUGGY_ZERO) {
      fixMethod('delete');
      fixMethod('has');
      IS_MAP && fixMethod('get');
    }

    if (BUGGY_ZERO || HASNT_CHAINING) fixMethod(ADDER);

    // weak collections should not contains .clear method
    if (IS_WEAK && NativePrototype.clear) delete NativePrototype.clear;
  }

  exported[CONSTRUCTOR_NAME] = Constructor;
  $({ global: true, forced: Constructor != NativeConstructor }, exported);

  setToStringTag(Constructor, CONSTRUCTOR_NAME);

  if (!IS_WEAK) common.setStrong(Constructor, CONSTRUCTOR_NAME, IS_MAP);

  return Constructor;
};


/***/ }),

/***/ "./node_modules/core-js/internals/freezing.js":
/*!****************************************************!*\
  !*** ./node_modules/core-js/internals/freezing.js ***!
  \****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var fails = __webpack_require__(/*! ../internals/fails */ "./node_modules/core-js/internals/fails.js");

module.exports = !fails(function () {
  return Object.isExtensible(Object.preventExtensions({}));
});


/***/ }),

/***/ "./node_modules/core-js/internals/internal-metadata.js":
/*!*************************************************************!*\
  !*** ./node_modules/core-js/internals/internal-metadata.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var hiddenKeys = __webpack_require__(/*! ../internals/hidden-keys */ "./node_modules/core-js/internals/hidden-keys.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");
var has = __webpack_require__(/*! ../internals/has */ "./node_modules/core-js/internals/has.js");
var defineProperty = __webpack_require__(/*! ../internals/object-define-property */ "./node_modules/core-js/internals/object-define-property.js").f;
var uid = __webpack_require__(/*! ../internals/uid */ "./node_modules/core-js/internals/uid.js");
var FREEZING = __webpack_require__(/*! ../internals/freezing */ "./node_modules/core-js/internals/freezing.js");

var METADATA = uid('meta');
var id = 0;

var isExtensible = Object.isExtensible || function () {
  return true;
};

var setMetadata = function (it) {
  defineProperty(it, METADATA, { value: {
    objectID: 'O' + ++id, // object ID
    weakData: {}          // weak collections IDs
  } });
};

var fastKey = function (it, create) {
  // return a primitive with prefix
  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
  if (!has(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return 'F';
    // not necessary to add metadata
    if (!create) return 'E';
    // add missing metadata
    setMetadata(it);
  // return object ID
  } return it[METADATA].objectID;
};

var getWeakData = function (it, create) {
  if (!has(it, METADATA)) {
    // can't set metadata to uncaught frozen object
    if (!isExtensible(it)) return true;
    // not necessary to add metadata
    if (!create) return false;
    // add missing metadata
    setMetadata(it);
  // return the store of weak collections IDs
  } return it[METADATA].weakData;
};

// add metadata on freeze-family methods calling
var onFreeze = function (it) {
  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);
  return it;
};

var meta = module.exports = {
  REQUIRED: false,
  fastKey: fastKey,
  getWeakData: getWeakData,
  onFreeze: onFreeze
};

hiddenKeys[METADATA] = true;


/***/ }),

/***/ "./node_modules/core-js/modules/es.weak-map.js":
/*!*****************************************************!*\
  !*** ./node_modules/core-js/modules/es.weak-map.js ***!
  \*****************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";

var global = __webpack_require__(/*! ../internals/global */ "./node_modules/core-js/internals/global.js");
var redefineAll = __webpack_require__(/*! ../internals/redefine-all */ "./node_modules/core-js/internals/redefine-all.js");
var InternalMetadataModule = __webpack_require__(/*! ../internals/internal-metadata */ "./node_modules/core-js/internals/internal-metadata.js");
var collection = __webpack_require__(/*! ../internals/collection */ "./node_modules/core-js/internals/collection.js");
var collectionWeak = __webpack_require__(/*! ../internals/collection-weak */ "./node_modules/core-js/internals/collection-weak.js");
var isObject = __webpack_require__(/*! ../internals/is-object */ "./node_modules/core-js/internals/is-object.js");
var enforceIternalState = __webpack_require__(/*! ../internals/internal-state */ "./node_modules/core-js/internals/internal-state.js").enforce;
var NATIVE_WEAK_MAP = __webpack_require__(/*! ../internals/native-weak-map */ "./node_modules/core-js/internals/native-weak-map.js");

var IS_IE11 = !global.ActiveXObject && 'ActiveXObject' in global;
var isExtensible = Object.isExtensible;
var InternalWeakMap;

var wrapper = function (init) {
  return function WeakMap() {
    return init(this, arguments.length ? arguments[0] : undefined);
  };
};

// `WeakMap` constructor
// https://tc39.github.io/ecma262/#sec-weakmap-constructor
var $WeakMap = module.exports = collection('WeakMap', wrapper, collectionWeak);

// IE11 WeakMap frozen keys fix
// We can't use feature detection because it crash some old IE builds
// https://github.com/zloirock/core-js/issues/485
if (NATIVE_WEAK_MAP && IS_IE11) {
  InternalWeakMap = collectionWeak.getConstructor(wrapper, 'WeakMap', true);
  InternalMetadataModule.REQUIRED = true;
  var WeakMapPrototype = $WeakMap.prototype;
  var nativeDelete = WeakMapPrototype['delete'];
  var nativeHas = WeakMapPrototype.has;
  var nativeGet = WeakMapPrototype.get;
  var nativeSet = WeakMapPrototype.set;
  redefineAll(WeakMapPrototype, {
    'delete': function (key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceIternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeDelete.call(this, key) || state.frozen['delete'](key);
      } return nativeDelete.call(this, key);
    },
    has: function has(key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceIternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeHas.call(this, key) || state.frozen.has(key);
      } return nativeHas.call(this, key);
    },
    get: function get(key) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceIternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        return nativeHas.call(this, key) ? nativeGet.call(this, key) : state.frozen.get(key);
      } return nativeGet.call(this, key);
    },
    set: function set(key, value) {
      if (isObject(key) && !isExtensible(key)) {
        var state = enforceIternalState(this);
        if (!state.frozen) state.frozen = new InternalWeakMap();
        nativeHas.call(this, key) ? nativeSet.call(this, key, value) : state.frozen.set(key, value);
      } else nativeSet.call(this, key, value);
      return this;
    }
  });
}


/***/ }),

/***/ "./node_modules/lodash/_baseFor.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/_baseFor.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var createBaseFor = __webpack_require__(/*! ./_createBaseFor */ "./node_modules/lodash/_createBaseFor.js");

/**
 * The base implementation of `baseForOwn` which iterates over `object`
 * properties returned by `keysFunc` and invokes `iteratee` for each property.
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @param {Function} keysFunc The function to get the keys of `object`.
 * @returns {Object} Returns `object`.
 */
var baseFor = createBaseFor();

module.exports = baseFor;


/***/ }),

/***/ "./node_modules/lodash/_baseForOwn.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseForOwn.js ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var baseFor = __webpack_require__(/*! ./_baseFor */ "./node_modules/lodash/_baseFor.js"),
    keys = __webpack_require__(/*! ./keys */ "./node_modules/lodash/keys.js");

/**
 * The base implementation of `_.forOwn` without support for iteratee shorthands.
 *
 * @private
 * @param {Object} object The object to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Object} Returns `object`.
 */
function baseForOwn(object, iteratee) {
  return object && baseFor(object, iteratee, keys);
}

module.exports = baseForOwn;


/***/ }),

/***/ "./node_modules/lodash/_baseIteratee.js":
/*!**********************************************!*\
  !*** ./node_modules/lodash/_baseIteratee.js ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * This method returns the first argument it receives.
 *
 * @static
 * @since 0.1.0
 * @memberOf _
 * @category Util
 * @param {*} value Any value.
 * @returns {*} Returns `value`.
 * @example
 *
 * var object = { 'a': 1 };
 *
 * console.log(_.identity(object) === object);
 * // => true
 */
function identity(value) {
  return value;
}

module.exports = identity;


/***/ }),

/***/ "./node_modules/lodash/_createBaseFor.js":
/*!***********************************************!*\
  !*** ./node_modules/lodash/_createBaseFor.js ***!
  \***********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Creates a base function for methods like `_.forIn` and `_.forOwn`.
 *
 * @private
 * @param {boolean} [fromRight] Specify iterating from right to left.
 * @returns {Function} Returns the new base function.
 */
function createBaseFor(fromRight) {
  return function(object, iteratee, keysFunc) {
    var index = -1,
        iterable = Object(object),
        props = keysFunc(object),
        length = props.length;

    while (length--) {
      var key = props[fromRight ? length : ++index];
      if (iteratee(iterable[key], key, iterable) === false) {
        break;
      }
    }
    return object;
  };
}

module.exports = createBaseFor;


/***/ }),

/***/ "./node_modules/lodash/each.js":
/*!*************************************!*\
  !*** ./node_modules/lodash/each.js ***!
  \*************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * A specialized version of `_.forEach` for arrays without support for
 * iteratee shorthands.
 *
 * @private
 * @param {Array} [array] The array to iterate over.
 * @param {Function} iteratee The function invoked per iteration.
 * @returns {Array} Returns `array`.
 */
function arrayEach(array, iteratee) {
  var index = -1,
      length = array == null ? 0 : array.length;

  while (++index < length) {
    if (iteratee(array[index], index, array) === false) {
      break;
    }
  }
  return array;
}

module.exports = arrayEach;


/***/ }),

/***/ "./node_modules/lodash/transform.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/transform.js ***!
  \******************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var arrayEach = __webpack_require__(/*! ./_arrayEach */ "./node_modules/lodash/_arrayEach.js"),
    baseCreate = __webpack_require__(/*! ./_baseCreate */ "./node_modules/lodash/_baseCreate.js"),
    baseForOwn = __webpack_require__(/*! ./_baseForOwn */ "./node_modules/lodash/_baseForOwn.js"),
    baseIteratee = __webpack_require__(/*! ./_baseIteratee */ "./node_modules/lodash/_baseIteratee.js"),
    getPrototype = __webpack_require__(/*! ./_getPrototype */ "./node_modules/lodash/_getPrototype.js"),
    isArray = __webpack_require__(/*! ./isArray */ "./node_modules/lodash/isArray.js"),
    isBuffer = __webpack_require__(/*! ./isBuffer */ "./node_modules/lodash/isBuffer.js"),
    isFunction = __webpack_require__(/*! ./isFunction */ "./node_modules/lodash/isFunction.js"),
    isObject = __webpack_require__(/*! ./isObject */ "./node_modules/lodash/isObject.js"),
    isTypedArray = __webpack_require__(/*! ./isTypedArray */ "./node_modules/lodash/isTypedArray.js");

/**
 * An alternative to `_.reduce`; this method transforms `object` to a new
 * `accumulator` object which is the result of running each of its own
 * enumerable string keyed properties thru `iteratee`, with each invocation
 * potentially mutating the `accumulator` object. If `accumulator` is not
 * provided, a new object with the same `[[Prototype]]` will be used. The
 * iteratee is invoked with four arguments: (accumulator, value, key, object).
 * Iteratee functions may exit iteration early by explicitly returning `false`.
 *
 * @static
 * @memberOf _
 * @since 1.3.0
 * @category Object
 * @param {Object} object The object to iterate over.
 * @param {Function} [iteratee=_.identity] The function invoked per iteration.
 * @param {*} [accumulator] The custom accumulator value.
 * @returns {*} Returns the accumulated value.
 * @example
 *
 * _.transform([2, 3, 4], function(result, n) {
 *   result.push(n *= n);
 *   return n % 2 == 0;
 * }, []);
 * // => [4, 9]
 *
 * _.transform({ 'a': 1, 'b': 2, 'c': 1 }, function(result, value, key) {
 *   (result[value] || (result[value] = [])).push(key);
 * }, {});
 * // => { '1': ['a', 'c'], '2': ['b'] }
 */
function transform(object, iteratee, accumulator) {
  var isArr = isArray(object),
      isArrLike = isArr || isBuffer(object) || isTypedArray(object);

  iteratee = baseIteratee(iteratee, 4);
  if (accumulator == null) {
    var Ctor = object && object.constructor;
    if (isArrLike) {
      accumulator = isArr ? new Ctor : [];
    }
    else if (isObject(object)) {
      accumulator = isFunction(Ctor) ? baseCreate(getPrototype(object)) : {};
    }
    else {
      accumulator = {};
    }
  }
  (isArrLike ? arrayEach : baseForOwn)(object, function(value, index, object) {
    return iteratee(accumulator, value, index, object);
  });
  return accumulator;
}

module.exports = transform;


/***/ }),

/***/ "./node_modules/sweetalert2/dist/sweetalert2.min.js":
/*!**********************************************************!*\
  !*** ./node_modules/sweetalert2/dist/sweetalert2.min.js ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

!function(t,e){ true?module.exports=e():undefined}(this,function(){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function a(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function c(){return(c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return(l=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(t){return}}}()?Reflect.construct:function(t,e,n){var o=[null];o.push.apply(o,e);var i=new(Function.bind.apply(t,o));return n&&u(i,n.prototype),i}).apply(null,arguments)}function d(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t,e,n){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var o=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}function f(e){return Object.keys(e).map(function(t){return e[t]})}function m(t){return Array.prototype.slice.call(t)}function v(t){console.error("".concat(H," ").concat(t))}function h(t,e){var n;n='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(e,'" instead.'),-1===N.indexOf(n)&&(N.push(n),D(n))}function g(t){return t&&Promise.resolve(t)===t}function b(t){return t instanceof Element||"object"===r(e=t)&&e.jquery;var e}function t(t){var e={};for(var n in t)e[t[n]]="swal2-"+t[n];return e}function y(t){var e=W();return e?e.querySelector(t):null}function e(t){return y(".".concat(t))}function n(){var t=K();return m(t.querySelectorAll(".".concat(F.icon)))}function w(){var t=n().filter(function(t){return pt(t)});return t.length?t[0]:null}function C(){return e(F.title)}function k(){return e(F.content)}function x(){return e(F.image)}function P(){return e(F["progress-steps"])}function A(){return e(F["validation-message"])}function B(){return y(".".concat(F.actions," .").concat(F.confirm))}function S(){return y(".".concat(F.actions," .").concat(F.cancel))}function E(){return e(F.actions)}function O(){return e(F.header)}function T(){return e(F.footer)}function L(){return e(F["timer-progress-bar"])}function q(){return e(F.close)}function I(){var t=m(K().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function(t,e){return t=parseInt(t.getAttribute("tabindex")),(e=parseInt(e.getAttribute("tabindex")))<t?1:t<e?-1:0}),e=m(K().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(function(t){return"-1"!==t.getAttribute("tabindex")});return function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(t.concat(e)).filter(function(t){return pt(t)})}function j(){return!Y()&&!document.body.classList.contains(F["no-backdrop"])}function M(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");m(n.querySelector("head").childNodes).forEach(function(t){e.appendChild(t)}),m(n.querySelector("body").childNodes).forEach(function(t){e.appendChild(t)})}}function V(t,e){if(e){for(var n=e.split(/\s+/),o=0;o<n.length;o++)if(!t.classList.contains(n[o]))return;return 1}}function R(t,e,n){var o,i;if(i=e,m((o=t).classList).forEach(function(t){-1===f(F).indexOf(t)&&-1===f(z).indexOf(t)&&-1===f(i.showClass).indexOf(t)&&o.classList.remove(t)}),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return D("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(r(e.customClass[n]),'"'));ut(t,e.customClass[n])}}var H="SweetAlert2:",D=function(t){console.warn("".concat(H," ").concat(t))},N=[],U=function(t){return"function"==typeof t?t():t},_=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),F=t(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),z=t(["success","warning","info","question","error"]),W=function(){return document.body.querySelector(".".concat(F.container))},K=function(){return e(F.popup)},Y=function(){return document.body.classList.contains(F["toast-shown"])},Z={previousBodyPadding:null};function Q(t,e){if(!e)return null;switch(e){case"select":case"textarea":case"file":return dt(t,F[e]);case"checkbox":return t.querySelector(".".concat(F.checkbox," input"));case"radio":return t.querySelector(".".concat(F.radio," input:checked"))||t.querySelector(".".concat(F.radio," input:first-child"));case"range":return t.querySelector(".".concat(F.range," input"));default:return dt(t,F.input)}}function $(t){if(t.focus(),"file"!==t.type){var e=t.value;t.value="",t.value=e}}function J(t,e,n){t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(function(e){t.forEach?t.forEach(function(t){n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))}function X(t,e,n){n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)}function G(t,e){var n=1<arguments.length&&void 0!==e?e:"flex";t.style.opacity="",t.style.display=n}function tt(t){t.style.opacity="",t.style.display="none"}function et(t,e,n){e?G(t,n):tt(t)}function nt(t){var e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),o=parseFloat(e.getPropertyValue("transition-duration")||"0");return 0<n||0<o}function ot(t,e){var n=1<arguments.length&&void 0!==e&&e,o=L();pt(o)&&(n&&(o.style.transition="none",o.style.width="100%"),setTimeout(function(){o.style.transition="width ".concat(t/1e3,"s linear"),o.style.width="0%"},10))}function it(){return"undefined"==typeof window||"undefined"==typeof document}function rt(t){Ge.isVisible()&&st!==t.target.value&&Ge.resetValidationMessage(),st=t.target.value}function at(t,e){t instanceof HTMLElement?e.appendChild(t):"object"===r(t)?ht(t,e):t&&M(e,t)}function ct(t,e){var n=E(),o=B(),i=S();e.showConfirmButton||e.showCancelButton||tt(n),R(n,e,"actions"),bt(o,"confirm",e),bt(i,"cancel",e),e.buttonsStyling?function(t,e,n){ut([t,e],F.styled),n.confirmButtonColor&&(t.style.backgroundColor=n.confirmButtonColor);n.cancelButtonColor&&(e.style.backgroundColor=n.cancelButtonColor);var o=window.getComputedStyle(t).getPropertyValue("background-color");t.style.borderLeftColor=o,t.style.borderRightColor=o}(o,i,e):(lt([o,i],F.styled),o.style.backgroundColor=o.style.borderLeftColor=o.style.borderRightColor="",i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor=""),e.reverseButtons&&o.parentNode.insertBefore(i,o)}var st,ut=function(t,e){J(t,e,!0)},lt=function(t,e){J(t,e,!1)},dt=function(t,e){for(var n=0;n<t.childNodes.length;n++)if(V(t.childNodes[n],e))return t.childNodes[n]},pt=function(t){return!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))},ft='\n <div aria-labelledby="'.concat(F.title,'" aria-describedby="').concat(F.content,'" class="').concat(F.popup,'" tabindex="-1">\n   <div class="').concat(F.header,'">\n     <ul class="').concat(F["progress-steps"],'"></ul>\n     <div class="').concat(F.icon," ").concat(z.error,'"></div>\n     <div class="').concat(F.icon," ").concat(z.question,'"></div>\n     <div class="').concat(F.icon," ").concat(z.warning,'"></div>\n     <div class="').concat(F.icon," ").concat(z.info,'"></div>\n     <div class="').concat(F.icon," ").concat(z.success,'"></div>\n     <img class="').concat(F.image,'" />\n     <h2 class="').concat(F.title,'" id="').concat(F.title,'"></h2>\n     <button type="button" class="').concat(F.close,'"></button>\n   </div>\n   <div class="').concat(F.content,'">\n     <div id="').concat(F.content,'" class="').concat(F["html-container"],'"></div>\n     <input class="').concat(F.input,'" />\n     <input type="file" class="').concat(F.file,'" />\n     <div class="').concat(F.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(F.select,'"></select>\n     <div class="').concat(F.radio,'"></div>\n     <label for="').concat(F.checkbox,'" class="').concat(F.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(F.label,'"></span>\n     </label>\n     <textarea class="').concat(F.textarea,'"></textarea>\n     <div class="').concat(F["validation-message"],'" id="').concat(F["validation-message"],'"></div>\n   </div>\n   <div class="').concat(F.actions,'">\n     <button type="button" class="').concat(F.confirm,'">OK</button>\n     <button type="button" class="').concat(F.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(F.footer,'"></div>\n   <div class="').concat(F["timer-progress-bar-container"],'">\n     <div class="').concat(F["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),mt=function(t){var e,n=!!(e=W())&&(e.parentNode.removeChild(e),lt([document.documentElement,document.body],[F["no-backdrop"],F["toast-shown"],F["has-column"]]),!0);if(it())v("SweetAlert2 requires document to initialize");else{var o=document.createElement("div");o.className=F.container,n&&ut(o,F["no-transition"]),M(o,ft);var i,r,a,c,s,u,l,d,p,f,m,h,g="string"==typeof(i=t.target)?document.querySelector(i):i;g.appendChild(o),r=t,(a=K()).setAttribute("role",r.toast?"alert":"dialog"),a.setAttribute("aria-live",r.toast?"polite":"assertive"),r.toast||a.setAttribute("aria-modal","true"),c=g,"rtl"===window.getComputedStyle(c).direction&&ut(W(),F.rtl),s=k(),u=dt(s,F.input),l=dt(s,F.file),d=s.querySelector(".".concat(F.range," input")),p=s.querySelector(".".concat(F.range," output")),f=dt(s,F.select),m=s.querySelector(".".concat(F.checkbox," input")),h=dt(s,F.textarea),u.oninput=rt,l.onchange=rt,f.onchange=rt,m.onchange=rt,h.oninput=rt,d.oninput=function(t){rt(t),p.value=d.value},d.onchange=function(t){rt(t),d.nextSibling.value=d.value}}},ht=function(t,e){t.jquery?gt(e,t):M(e,t.toString())},gt=function(t,e){if(t.textContent="",0 in e)for(var n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},vt=function(){if(it())return!1;var t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1}();function bt(t,e,n){var o;et(t,n["show".concat((o=e).charAt(0).toUpperCase()+o.slice(1),"Button")],"inline-block"),M(t,n["".concat(e,"ButtonText")]),t.setAttribute("aria-label",n["".concat(e,"ButtonAriaLabel")]),t.className=F[e],R(t,n,"".concat(e,"Button")),ut(t,n["".concat(e,"ButtonClass")])}function yt(t,e){var n=W();if(n){var o,i,r,a;o=n,"string"==typeof(i=e.backdrop)?o.style.background=i:i||ut([document.documentElement,document.body],F["no-backdrop"]),!e.backdrop&&e.allowOutsideClick&&D('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),r=n,(a=e.position)in F?ut(r,F[a]):(D('The "position" parameter is not valid, defaulting to "center"'),ut(r,F.center)),function(t,e){if(e&&"string"==typeof e){var n="grow-".concat(e);n in F&&ut(t,F[n])}}(n,e.grow),R(n,e,"container");var c=document.body.getAttribute("data-swal2-queue-step");c&&(n.setAttribute("data-queue-step",c),document.body.removeAttribute("data-swal2-queue-step"))}}function wt(t,e){t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)}var Ct={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},kt=["input","file","range","select","radio","checkbox","textarea"],xt=function(t){if(!St[t.input])return v('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));var e=Bt(t.input),n=St[t.input](e,t);G(n),setTimeout(function(){$(n)})},Pt=function(t,e){var n=Q(k(),t);if(n)for(var o in!function(t){for(var e=0;e<t.attributes.length;e++){var n=t.attributes[e].name;-1===["type","value","style"].indexOf(n)&&t.removeAttribute(n)}}(n),e)"range"===t&&"placeholder"===o||n.setAttribute(o,e[o])},At=function(t){var e=Bt(t.input);t.customClass&&ut(e,t.customClass.input)},Bt=function(t){var e=F[t]?F[t]:F.input;return dt(k(),e)},St={};St.text=St.email=St.password=St.number=St.tel=St.url=function(t,e){return"string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:g(e.inputValue)||D('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(r(e.inputValue),'"')),wt(t,e),t.type=e.input,t},St.file=function(t,e){return wt(t,e),t},St.range=function(t,e){var n=t.querySelector("input"),o=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,o.value=e.inputValue,t},St.select=function(t,e){if(t.textContent="",e.inputPlaceholder){var n=document.createElement("option");M(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return t},St.radio=function(t){return t.textContent="",t},St.checkbox=function(t,e){var n=Q(k(),"checkbox");n.value=1,n.id=F.checkbox,n.checked=Boolean(e.inputValue);var o=t.querySelector("span");return M(o,e.inputPlaceholder),t},St.textarea=function(e,t){if(e.value=t.inputValue,wt(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(K()).width),o=parseInt(window.getComputedStyle(K()).paddingLeft)+parseInt(window.getComputedStyle(K()).paddingRight);new MutationObserver(function(){var t=e.offsetWidth+o;K().style.width=n<t?"".concat(t,"px"):null}).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};function Et(t,e){var n,o,i,r,a,c=k().querySelector("#".concat(F.content));e.html?(at(e.html,c),G(c,"block")):e.text?(c.textContent=e.text,G(c,"block")):tt(c),n=t,o=e,i=k(),r=Ct.innerParams.get(n),a=!r||o.input!==r.input,kt.forEach(function(t){var e=F[t],n=dt(i,e);Pt(t,o.inputAttributes),n.className=e,a&&tt(n)}),o.input&&(a&&xt(o),At(o)),R(k(),e,"content")}function Ot(){return W()&&W().getAttribute("data-queue-step")}function Tt(t,s){var u=P();if(!s.progressSteps||0===s.progressSteps.length)return tt(u);G(u),u.textContent="";var l=parseInt(void 0===s.currentProgressStep?Ot():s.currentProgressStep);l>=s.progressSteps.length&&D("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),s.progressSteps.forEach(function(t,e){var n,o,i,r,a=(n=t,o=document.createElement("li"),ut(o,F["progress-step"]),M(o,n),o);if(u.appendChild(a),e===l&&ut(a,F["active-progress-step"]),e!==s.progressSteps.length-1){var c=(i=t,r=document.createElement("li"),ut(r,F["progress-step-line"]),i.progressStepsDistance&&(r.style.width=i.progressStepsDistance),r);u.appendChild(c)}})}function Lt(t,e){var n,o,i,r,a=O();R(a,e,"header"),Tt(0,e),function(t,e){var n=Ct.innerParams.get(t);if(n&&e.icon===n.icon&&w())R(w(),e,"icon");else if(jt(),e.icon)if(-1!==Object.keys(z).indexOf(e.icon)){var o=y(".".concat(F.icon,".").concat(z[e.icon]));G(o),Vt(o,e),Mt(),R(o,e,"icon"),ut(o,e.showClass.icon)}else v('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"'))}(t,e),function(t){var e=x();if(!t.imageUrl)return tt(e);G(e),e.setAttribute("src",t.imageUrl),e.setAttribute("alt",t.imageAlt),X(e,"width",t.imageWidth),X(e,"height",t.imageHeight),e.className=F.image,R(e,t,"image")}(e),n=e,o=C(),et(o,n.title||n.titleText),n.title&&at(n.title,o),n.titleText&&(o.innerText=n.titleText),R(o,n,"title"),i=e,r=q(),M(r,i.closeButtonHtml),R(r,i,"closeButton"),et(r,i.showCloseButton),r.setAttribute("aria-label",i.closeButtonAriaLabel)}function qt(t,e){var n,o,i,r;n=e,o=K(),X(o,"width",n.width),X(o,"padding",n.padding),n.background&&(o.style.background=n.background),Dt(o,n),yt(0,e),Lt(t,e),Et(t,e),ct(0,e),i=e,r=T(),et(r,i.footer),i.footer&&at(i.footer,r),R(r,i,"footer"),"function"==typeof e.onRender&&e.onRender(K())}function It(){return B()&&B().click()}var jt=function(){for(var t=n(),e=0;e<t.length;e++)tt(t[e])},Mt=function(){for(var t=K(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),o=0;o<n.length;o++)n[o].style.backgroundColor=e},Vt=function(t,e){if(t.textContent="",e.iconHtml)M(t,Rt(e.iconHtml));else if("success"===e.icon)M(t,'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ');else if("error"===e.icon)M(t,'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ');else{M(t,Rt({question:"?",warning:"!",info:"i"}[e.icon]))}},Rt=function(t){return'<div class="'.concat(F["icon-content"],'">').concat(t,"</div>")},Ht=[],Dt=function(t,e){t.className="".concat(F.popup," ").concat(pt(t)?e.showClass.popup:""),e.toast?(ut([document.documentElement,document.body],F["toast-shown"]),ut(t,F.toast)):ut(t,F.modal),R(t,e,"popup"),"string"==typeof e.customClass&&ut(t,e.customClass),e.icon&&ut(t,F["icon-".concat(e.icon)])};function Nt(){var t=K();t||Ge.fire(),t=K();var e=E(),n=B();G(e),G(n,"inline-block"),ut([t,e],F.loading),n.disabled=!0,t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()}function Ut(){return new Promise(function(t){var e=window.scrollX,n=window.scrollY;Kt.restoreFocusTimeout=setTimeout(function(){Kt.previousActiveElement&&Kt.previousActiveElement.focus?(Kt.previousActiveElement.focus(),Kt.previousActiveElement=null):document.body&&document.body.focus(),t()},100),void 0!==e&&void 0!==n&&window.scrollTo(e,n)})}function _t(){if(Kt.timeout)return function(){var t=L(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";var n=parseInt(window.getComputedStyle(t).width),o=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(o,"%")}(),Kt.timeout.stop()}function Ft(){if(Kt.timeout){var t=Kt.timeout.start();return ot(t),t}}function zt(t){return Object.prototype.hasOwnProperty.call(Yt,t)}function Wt(t){return Qt[t]}var Kt={},Yt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Zt=["title","titleText","text","html","icon","hideClass","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep"],Qt={animation:'showClass" and "hideClass'},$t=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Jt=Object.freeze({isValidParameter:zt,isUpdatableParameter:function(t){return-1!==Zt.indexOf(t)},isDeprecatedParameter:Wt,argsToParams:function(o){var i={};return"object"!==r(o[0])||b(o[0])?["title","html","icon"].forEach(function(t,e){var n=o[e];"string"==typeof n||b(n)?i[t]=n:void 0!==n&&v("Unexpected type of ".concat(t,'! Expected "string" or "Element", got ').concat(r(n)))}):c(i,o[0]),i},isVisible:function(){return pt(K())},clickConfirm:It,clickCancel:function(){return S()&&S().click()},getContainer:W,getPopup:K,getTitle:C,getContent:k,getHtmlContainer:function(){return e(F["html-container"])},getImage:x,getIcon:w,getIcons:n,getCloseButton:q,getActions:E,getConfirmButton:B,getCancelButton:S,getHeader:O,getFooter:T,getTimerProgressBar:L,getFocusableElements:I,getValidationMessage:A,isLoading:function(){return K().hasAttribute("data-loading")},fire:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return l(this,e)},mixin:function(n){return function(t){function e(){return o(this,e),d(this,s(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),a(e,[{key:"_main",value:function(t){return p(s(e.prototype),"_main",this).call(this,c({},n,t))}}]),e}(this)},queue:function(t){var r=this;Ht=t;function a(t,e){Ht=[],t(e)}var c=[];return new Promise(function(i){!function e(n,o){n<Ht.length?(document.body.setAttribute("data-swal2-queue-step",n),r.fire(Ht[n]).then(function(t){void 0!==t.value?(c.push(t.value),e(n+1,o)):a(i,{dismiss:t.dismiss})})):a(i,{value:c})}(0)})},getQueueStep:Ot,insertQueueStep:function(t,e){return e&&e<Ht.length?Ht.splice(e,0,t):Ht.push(t)},deleteQueueStep:function(t){void 0!==Ht[t]&&Ht.splice(t,1)},showLoading:Nt,enableLoading:Nt,getTimerLeft:function(){return Kt.timeout&&Kt.timeout.getTimerLeft()},stopTimer:_t,resumeTimer:Ft,toggleTimer:function(){var t=Kt.timeout;return t&&(t.running?_t:Ft)()},increaseTimer:function(t){if(Kt.timeout){var e=Kt.timeout.increase(t);return ot(e,!0),e}},isTimerRunning:function(){return Kt.timeout&&Kt.timeout.isRunning()}});function Xt(){var t=Ct.innerParams.get(this);if(t){var e=Ct.domCache.get(this);t.showConfirmButton||(tt(e.confirmButton),t.showCancelButton||tt(e.actions)),lt([e.popup,e.actions],F.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.cancelButton.disabled=!1}}function Gt(){null===Z.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Z.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Z.previousBodyPadding+function(){var t=document.createElement("div");t.className=F["scrollbar-measure"],document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e}(),"px"))}function te(){return!!window.MSInputMethodContext&&!!document.documentMode}function ee(){var t=W(),e=K();t.style.removeProperty("align-items"),e.offsetTop<0&&(t.style.alignItems="flex-start")}var ne=function(){var n,o=W();o.ontouchstart=function(t){var e;n=t.target===o||!((e=o).scrollHeight>e.clientHeight)&&"INPUT"!==t.target.tagName},o.ontouchmove=function(t){n&&(t.preventDefault(),t.stopPropagation())}},oe={swalPromiseResolve:new WeakMap};function ie(t,e,n,o){n?ce(t,o):(Ut().then(function(){return ce(t,o)}),Kt.keydownTarget.removeEventListener("keydown",Kt.keydownHandler,{capture:Kt.keydownListenerCapture}),Kt.keydownHandlerAdded=!1),e.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&e.parentNode.removeChild(e),j()&&(null!==Z.previousBodyPadding&&(document.body.style.paddingRight="".concat(Z.previousBodyPadding,"px"),Z.previousBodyPadding=null),function(){if(V(document.body,F.iosfix)){var t=parseInt(document.body.style.top,10);lt(document.body,F.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}}(),"undefined"!=typeof window&&te()&&window.removeEventListener("resize",ee),m(document.body.children).forEach(function(t){t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),lt([document.documentElement,document.body],[F.shown,F["height-auto"],F["no-backdrop"],F["toast-shown"],F["toast-column"]])}function re(t){var e=K();if(e){var n=Ct.innerParams.get(this);if(n&&!V(e,n.hideClass.popup)){var o=oe.swalPromiseResolve.get(this);lt(e,n.showClass.popup),ut(e,n.hideClass.popup);var i=W();lt(i,n.showClass.backdrop),ut(i,n.hideClass.backdrop),function(t,e,n){var o=W(),i=vt&&nt(e),r=n.onClose,a=n.onAfterClose;if(r!==null&&typeof r==="function"){r(e)}if(i){ae(t,e,o,a)}else{ie(t,o,Y(),a)}}(this,e,n),o(t||{})}}}var ae=function(t,e,n,o){Kt.swalCloseEventFinishedCallback=ie.bind(null,t,n,Y(),o),e.addEventListener(vt,function(t){t.target===e&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback)})},ce=function(t,e){setTimeout(function(){"function"==typeof e&&e(),t._destroy()})};function se(t,e,n){var o=Ct.domCache.get(t);e.forEach(function(t){o[t].disabled=n})}function ue(t,e){if(!t)return!1;if("radio"===t.type)for(var n=t.parentNode.parentNode.querySelectorAll("input"),o=0;o<n.length;o++)n[o].disabled=e;else t.disabled=e}var le=function(){function n(t,e){o(this,n),this.callback=t,this.remaining=e,this.running=!1,this.start()}return a(n,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(t){var e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),n}(),de={email:function(t,e){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address")},url:function(t,e){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")}};function pe(t){var e,n;(e=t).inputValidator||Object.keys(de).forEach(function(t){e.input===t&&(e.inputValidator=de[t])}),t.showLoaderOnConfirm&&!t.preConfirm&&D("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=U(t.animation),(n=t).target&&("string"!=typeof n.target||document.querySelector(n.target))&&("string"==typeof n.target||n.target.appendChild)||(D('Target parameter is not valid, defaulting to "body"'),n.target="body"),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),mt(t)}function fe(t){var e=W(),n=K();"function"==typeof t.onBeforeOpen&&t.onBeforeOpen(n),Pe(e,n,t),ke(e,n),j()&&xe(e,t.scrollbarPadding),Y()||Kt.previousActiveElement||(Kt.previousActiveElement=document.activeElement),"function"==typeof t.onOpen&&setTimeout(function(){return t.onOpen(n)}),lt(e,F["no-transition"])}function me(t){var e=K();if(t.target===e){var n=W();e.removeEventListener(vt,me),n.style.overflowY="auto"}}function he(t,e){"select"===e.input||"radio"===e.input?Ee(t,e):-1!==["text","email","number","tel","textarea"].indexOf(e.input)&&g(e.inputValue)&&Oe(t,e)}function ge(t,e){t.disableButtons(),e.input?qe(t,e):Ie(t,e,!0)}function ve(t,e){t.disableButtons(),e(_.cancel)}function be(t,e){t.closePopup({value:e})}function ye(e,t,n,o){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return Ve(e,t,o)},t.keydownTarget=n.keydownListenerCapture?window:K(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}function we(t,e,n){var o=I(),i=0;if(i<o.length)return(e+=n)===o.length?e=0:-1===e&&(e=o.length-1),o[e].focus();K().focus()}function Ce(t,e,n){Ct.innerParams.get(t).toast?Ue(t,e,n):(Fe(e),ze(e),We(t,e,n))}var ke=function(t,e){vt&&nt(e)?(t.style.overflowY="hidden",e.addEventListener(vt,me)):t.style.overflowY="auto"},xe=function(t,e){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints)&&!V(document.body,F.iosfix)){var t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),ut(document.body,F.iosfix),ne()}}(),"undefined"!=typeof window&&te()&&(ee(),window.addEventListener("resize",ee)),m(document.body.children).forEach(function(t){t===W()||function(t,e){if("function"==typeof t.contains)return t.contains(e)}(t,W())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))}),e&&Gt(),setTimeout(function(){t.scrollTop=0})},Pe=function(t,e,n){ut(t,n.showClass.backdrop),G(e),ut(e,n.showClass.popup),ut([document.documentElement,document.body],F.shown),n.heightAuto&&n.backdrop&&!n.toast&&ut([document.documentElement,document.body],F["height-auto"])},Ae=function(t){return t.checked?1:0},Be=function(t){return t.checked?t.value:null},Se=function(t){return t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null},Ee=function(e,n){function o(t){return Te[n.input](i,Le(t),n)}var i=k();g(n.inputOptions)?(Nt(),n.inputOptions.then(function(t){e.hideLoading(),o(t)})):"object"===r(n.inputOptions)?o(n.inputOptions):v("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(r(n.inputOptions)))},Oe=function(e,n){var o=e.getInput();tt(o),n.inputValue.then(function(t){o.value="number"===n.input?parseFloat(t)||0:"".concat(t),G(o),o.focus(),e.hideLoading()}).catch(function(t){v("Error in inputValue promise: ".concat(t)),o.value="",G(o),o.focus(),e.hideLoading()})},Te={select:function(t,e,i){var r=dt(t,F.select);e.forEach(function(t){var e=t[0],n=t[1],o=document.createElement("option");o.value=e,M(o,n),i.inputValue.toString()===e.toString()&&(o.selected=!0),r.appendChild(o)}),r.focus()},radio:function(t,e,a){var c=dt(t,F.radio);e.forEach(function(t){var e=t[0],n=t[1],o=document.createElement("input"),i=document.createElement("label");o.type="radio",o.name=F.radio,o.value=e,a.inputValue.toString()===e.toString()&&(o.checked=!0);var r=document.createElement("span");M(r,n),r.className=F.label,i.appendChild(o),i.appendChild(r),c.appendChild(i)});var n=c.querySelectorAll("input");n.length&&n[0].focus()}},Le=function(e){var n=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(function(t,e){n.push([e,t])}):Object.keys(e).forEach(function(t){n.push([t,e[t]])}),n},qe=function(e,n){var o=function(t,e){var n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return Ae(n);case"radio":return Be(n);case"file":return Se(n);default:return e.inputAutoTrim?n.value.trim():n.value}}(e,n);n.inputValidator?(e.disableInput(),Promise.resolve().then(function(){return n.inputValidator(o,n.validationMessage)}).then(function(t){e.enableButtons(),e.enableInput(),t?e.showValidationMessage(t):Ie(e,n,o)})):e.getInput().checkValidity()?Ie(e,n,o):(e.enableButtons(),e.showValidationMessage(n.validationMessage))},Ie=function(e,t,n){(t.showLoaderOnConfirm&&Nt(),t.preConfirm)?(e.resetValidationMessage(),Promise.resolve().then(function(){return t.preConfirm(n,t.validationMessage)}).then(function(t){pt(A())||!1===t?e.hideLoading():be(e,void 0===t?n:t)})):be(e,n)},je=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],Me=["Escape","Esc"],Ve=function(t,e,n){var o=Ct.innerParams.get(t);o.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Re(t,e,o):"Tab"===e.key?He(e,o):-1!==je.indexOf(e.key)?De():-1!==Me.indexOf(e.key)&&Ne(e,o,n)},Re=function(t,e,n){if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;It(),e.preventDefault()}},He=function(t){for(var e=t.target,n=I(),o=-1,i=0;i<n.length;i++)if(e===n[i]){o=i;break}t.shiftKey?we(0,o,-1):we(0,o,1),t.stopPropagation(),t.preventDefault()},De=function(){var t=B(),e=S();document.activeElement===t&&pt(e)?e.focus():document.activeElement===e&&pt(t)&&t.focus()},Ne=function(t,e,n){U(e.allowEscapeKey)&&(t.preventDefault(),n(_.esc))},Ue=function(e,t,n){t.popup.onclick=function(){var t=Ct.innerParams.get(e);t.showConfirmButton||t.showCancelButton||t.showCloseButton||t.input||n(_.close)}},_e=!1,Fe=function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(_e=!0)}}},ze=function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,t.target!==e.popup&&!e.popup.contains(t.target)||(_e=!0)}}},We=function(n,o,i){o.container.onclick=function(t){var e=Ct.innerParams.get(n);_e?_e=!1:t.target===o.container&&U(e.allowOutsideClick)&&i(_.backdrop)}};var Ke=function(t,e,n){var o=L();tt(o),e.timer&&(t.timeout=new le(function(){n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(G(o),setTimeout(function(){t.timeout.running&&ot(e.timer)})))},Ye=function(t,e){if(!e.toast)return U(e.allowEnterKey)?e.focusCancel&&pt(t.cancelButton)?t.cancelButton.focus():e.focusConfirm&&pt(t.confirmButton)?t.confirmButton.focus():void we(0,-1,1):Ze()},Ze=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};var Qe,$e=function(t){for(var e in t)t[e]=new WeakMap},Je=Object.freeze({hideLoading:Xt,disableLoading:Xt,getInput:function(t){var e=Ct.innerParams.get(t||this),n=Ct.domCache.get(t||this);return n?Q(n.content,e.input):null},close:re,closePopup:re,closeModal:re,closeToast:re,enableButtons:function(){se(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){se(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return ue(this.getInput(),!1)},disableInput:function(){return ue(this.getInput(),!0)},showValidationMessage:function(t){var e=Ct.domCache.get(this);M(e.validationMessage,t);var n=window.getComputedStyle(e.popup);e.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),e.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),G(e.validationMessage);var o=this.getInput();o&&(o.setAttribute("aria-invalid",!0),o.setAttribute("aria-describedBy",F["validation-message"]),$(o),ut(o,F.inputerror))},resetValidationMessage:function(){var t=Ct.domCache.get(this);t.validationMessage&&tt(t.validationMessage);var e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),lt(e,F.inputerror))},getProgressSteps:function(){return Ct.domCache.get(this).progressSteps},_main:function(t){!function(t){for(var e in t)zt(i=e)||D('Unknown parameter "'.concat(i,'"')),t.toast&&(o=e,-1!==$t.indexOf(o)&&D('The parameter "'.concat(o,'" is incompatible with toasts'))),Wt(n=e)&&h(n,Wt(n));var n,o,i}(t),Kt.currentInstance&&Kt.currentInstance._destroy(),Kt.currentInstance=this;var e=function(t){var e=c({},Yt.showClass,t.showClass),n=c({},Yt.hideClass,t.hideClass),o=c({},Yt,t);if(o.showClass=e,o.hideClass=n,t.animation===false){o.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"};o.hideClass={}}return o}(t);pe(e),Object.freeze(e),Kt.timeout&&(Kt.timeout.stop(),delete Kt.timeout),clearTimeout(Kt.restoreFocusTimeout);var n=function(t){var e={popup:K(),container:W(),content:k(),actions:E(),confirmButton:B(),cancelButton:S(),closeButton:q(),validationMessage:A(),progressSteps:P()};return Ct.domCache.set(t,e),e}(this);return qt(this,e),Ct.innerParams.set(this,e),function(n,o,i){return new Promise(function(t){var e=function t(e){n.closePopup({dismiss:e})};oe.swalPromiseResolve.set(n,t);o.confirmButton.onclick=function(){return ge(n,i)};o.cancelButton.onclick=function(){return ve(n,e)};o.closeButton.onclick=function(){return e(_.close)};Ce(n,o,e);ye(n,Kt,i,e);if(i.toast&&(i.input||i.footer||i.showCloseButton)){ut(document.body,F["toast-column"])}else{lt(document.body,F["toast-column"])}he(n,i);fe(i);Ke(Kt,i,e);Ye(o,i);o.container.scrollTop=0})}(this,n,e)},update:function(e){var t=K(),n=Ct.innerParams.get(this);if(!t||V(t,n.hideClass.popup))return D("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var o={};Object.keys(e).forEach(function(t){Ge.isUpdatableParameter(t)?o[t]=e[t]:D('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))});var i=c({},n,o);qt(this,i),Ct.innerParams.set(this,i),Object.defineProperties(this,{params:{value:c({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var t=Ct.domCache.get(this),e=Ct.innerParams.get(this);e&&(t.popup&&Kt.swalCloseEventFinishedCallback&&(Kt.swalCloseEventFinishedCallback(),delete Kt.swalCloseEventFinishedCallback),Kt.deferDisposalTimer&&(clearTimeout(Kt.deferDisposalTimer),delete Kt.deferDisposalTimer),"function"==typeof e.onDestroy&&e.onDestroy(),delete this.params,delete Kt.keydownHandler,delete Kt.keydownTarget,$e(Ct),$e(oe))}});function Xe(){if("undefined"!=typeof window){"undefined"==typeof Promise&&v("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),Qe=this;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var o=Object.freeze(this.constructor.argsToParams(e));Object.defineProperties(this,{params:{value:o,writable:!1,enumerable:!0,configurable:!0}});var i=this._main(this.params);Ct.promise.set(this,i)}}Xe.prototype.then=function(t){return Ct.promise.get(this).then(t)},Xe.prototype.finally=function(t){return Ct.promise.get(this).finally(t)},c(Xe.prototype,Je),c(Xe,Jt),Object.keys(Je).forEach(function(t){Xe[t]=function(){if(Qe)return Qe[t].apply(Qe,arguments)}}),Xe.DismissReason=_,Xe.version="9.10.10";var Ge=Xe;return Ge.default=Ge}),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2);

/***/ }),

/***/ "./node_modules/weakmap-polyfill/weakmap-polyfill.js":
/*!***********************************************************!*\
  !*** ./node_modules/weakmap-polyfill/weakmap-polyfill.js ***!
  \***********************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(global) {/*!
 * weakmap-polyfill v2.0.2 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2020 Polygon Planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */

(function(self) {
  'use strict';

  if (self.WeakMap) {
    return;
  }

  var hasOwnProperty = Object.prototype.hasOwnProperty;
  var defineProperty = function(object, name, value) {
    if (Object.defineProperty) {
      Object.defineProperty(object, name, {
        configurable: true,
        writable: true,
        value: value
      });
    } else {
      object[name] = value;
    }
  };

  self.WeakMap = (function() {

    // ECMA-262 23.3 WeakMap Objects
    function WeakMap() {
      if (this === void 0) {
        throw new TypeError("Constructor WeakMap requires 'new'");
      }

      defineProperty(this, '_id', genId('_WeakMap'));

      // ECMA-262 23.3.1.1 WeakMap([iterable])
      if (arguments.length > 0) {
        // Currently, WeakMap `iterable` argument is not supported
        throw new TypeError('WeakMap iterable is not supported');
      }
    }

    // ECMA-262 23.3.3.2 WeakMap.prototype.delete(key)
    defineProperty(WeakMap.prototype, 'delete', function(key) {
      checkInstance(this, 'delete');

      if (!isObject(key)) {
        return false;
      }

      var entry = key[this._id];
      if (entry && entry[0] === key) {
        delete key[this._id];
        return true;
      }

      return false;
    });

    // ECMA-262 23.3.3.3 WeakMap.prototype.get(key)
    defineProperty(WeakMap.prototype, 'get', function(key) {
      checkInstance(this, 'get');

      if (!isObject(key)) {
        return void 0;
      }

      var entry = key[this._id];
      if (entry && entry[0] === key) {
        return entry[1];
      }

      return void 0;
    });

    // ECMA-262 23.3.3.4 WeakMap.prototype.has(key)
    defineProperty(WeakMap.prototype, 'has', function(key) {
      checkInstance(this, 'has');

      if (!isObject(key)) {
        return false;
      }

      var entry = key[this._id];
      if (entry && entry[0] === key) {
        return true;
      }

      return false;
    });

    // ECMA-262 23.3.3.5 WeakMap.prototype.set(key, value)
    defineProperty(WeakMap.prototype, 'set', function(key, value) {
      checkInstance(this, 'set');

      if (!isObject(key)) {
        throw new TypeError('Invalid value used as weak map key');
      }

      var entry = key[this._id];
      if (entry && entry[0] === key) {
        entry[1] = value;
        return this;
      }

      defineProperty(key, this._id, [key, value]);
      return this;
    });


    function checkInstance(x, methodName) {
      if (!isObject(x) || !hasOwnProperty.call(x, '_id')) {
        throw new TypeError(
          methodName + ' method called on incompatible receiver ' +
          typeof x
        );
      }
    }

    function genId(prefix) {
      return prefix + '_' + rand() + '.' + rand();
    }

    function rand() {
      return Math.random().toString().substring(2);
    }


    defineProperty(WeakMap, '_polyfill', true);
    return WeakMap;
  })();


  function isObject(x) {
    return Object(x) === x;
  }

})(
  typeof self !== 'undefined' ? self :
  typeof window !== 'undefined' ? window :
  typeof global !== 'undefined' ? global : this
);

/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../webpack/buildin/global.js */ "./node_modules/webpack/buildin/global.js")))

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvY29sbGVjdGlvbi13ZWFrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9jb2xsZWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jb3JlLWpzL2ludGVybmFscy9mcmVlemluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29yZS1qcy9pbnRlcm5hbHMvaW50ZXJuYWwtbWV0YWRhdGEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvcmUtanMvbW9kdWxlcy9lcy53ZWFrLW1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlRm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VGb3JPd24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUl0ZXJhdGVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2NyZWF0ZUJhc2VGb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9lYWNoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdHJhbnNmb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zd2VldGFsZXJ0Mi9kaXN0L3N3ZWV0YWxlcnQyLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvd2Vha21hcC1wb2x5ZmlsbC93ZWFrbWFwLXBvbHlmaWxsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBYTtBQUNiLGtCQUFrQixtQkFBTyxDQUFDLG1GQUEyQjtBQUNyRCxrQkFBa0IsbUJBQU8sQ0FBQyw2RkFBZ0M7QUFDMUQsZUFBZSxtQkFBTyxDQUFDLDZFQUF3QjtBQUMvQyxlQUFlLG1CQUFP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QTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOzs7QUFHTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQSxHQUFHOzs7QUFHSDtBQUNBO0FBQ0E7O0FBRUEsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6InRoZW1lLWJ1bmRsZS5jaHVuay41LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIHJlZGVmaW5lQWxsID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3JlZGVmaW5lLWFsbCcpO1xudmFyIGdldFdlYWtEYXRhID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLW1ldGFkYXRhJykuZ2V0V2Vha0RhdGE7XG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvYW4tb2JqZWN0Jyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1pbnN0YW5jZScpO1xudmFyIGl0ZXJhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXRlcmF0ZScpO1xudmFyIEFycmF5SXRlcmF0aW9uTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2FycmF5LWl0ZXJhdGlvbicpO1xudmFyICRoYXMgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaGFzJyk7XG52YXIgSW50ZXJuYWxTdGF0ZU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1zdGF0ZScpO1xuXG52YXIgc2V0SW50ZXJuYWxTdGF0ZSA9IEludGVybmFsU3RhdGVNb2R1bGUuc2V0O1xudmFyIGludGVybmFsU3RhdGVHZXR0ZXJGb3IgPSBJbnRlcm5hbFN0YXRlTW9kdWxlLmdldHRlckZvcjtcbnZhciBmaW5kID0gQXJyYXlJdGVyYXRpb25Nb2R1bGUuZmluZDtcbnZhciBmaW5kSW5kZXggPSBBcnJheUl0ZXJhdGlvbk1vZHVsZS5maW5kSW5kZXg7XG52YXIgaWQgPSAwO1xuXG4vLyBmYWxsYmFjayBmb3IgdW5jYXVnaHQgZnJvemVuIGtleXNcbnZhciB1bmNhdWdodEZyb3plblN0b3JlID0gZnVuY3Rpb24gKHN0b3JlKSB7XG4gIHJldHVybiBzdG9yZS5mcm96ZW4gfHwgKHN0b3JlLmZyb3plbiA9IG5ldyBVbmNhdWdodEZyb3plblN0b3JlKCkpO1xufTtcblxudmFyIFVuY2F1Z2h0RnJvemVuU3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuZW50cmllcyA9IFtdO1xufTtcblxudmFyIGZpbmRVbmNhdWdodEZyb3plbiA9IGZ1bmN0aW9uIChzdG9yZSwga2V5KSB7XG4gIHJldHVybiBmaW5kKHN0b3JlLmVudHJpZXMsIGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdFswXSA9PT0ga2V5O1xuICB9KTtcbn07XG5cblVuY2F1Z2h0RnJvemVuU3RvcmUucHJvdG90eXBlID0ge1xuICBnZXQ6IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kVW5jYXVnaHRGcm96ZW4odGhpcywga2V5KTtcbiAgICBpZiAoZW50cnkpIHJldHVybiBlbnRyeVsxXTtcbiAgfSxcbiAgaGFzOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgcmV0dXJuICEhZmluZFVuY2F1Z2h0RnJvemVuKHRoaXMsIGtleSk7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICB2YXIgZW50cnkgPSBmaW5kVW5jYXVnaHRGcm96ZW4odGhpcywga2V5KTtcbiAgICBpZiAoZW50cnkpIGVudHJ5WzFdID0gdmFsdWU7XG4gICAgZWxzZSB0aGlzLmVudHJpZXMucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9LFxuICAnZGVsZXRlJzogZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBpbmRleCA9IGZpbmRJbmRleCh0aGlzLmVudHJpZXMsIGZ1bmN0aW9uIChpdCkge1xuICAgICAgcmV0dXJuIGl0WzBdID09PSBrZXk7XG4gICAgfSk7XG4gICAgaWYgKH5pbmRleCkgdGhpcy5lbnRyaWVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgcmV0dXJuICEhfmluZGV4O1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0Q29uc3RydWN0b3I6IGZ1bmN0aW9uICh3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKSB7XG4gICAgdmFyIEMgPSB3cmFwcGVyKGZ1bmN0aW9uICh0aGF0LCBpdGVyYWJsZSkge1xuICAgICAgYW5JbnN0YW5jZSh0aGF0LCBDLCBDT05TVFJVQ1RPUl9OQU1FKTtcbiAgICAgIHNldEludGVybmFsU3RhdGUodGhhdCwge1xuICAgICAgICB0eXBlOiBDT05TVFJVQ1RPUl9OQU1FLFxuICAgICAgICBpZDogaWQrKyxcbiAgICAgICAgZnJvemVuOiB1bmRlZmluZWRcbiAgICAgIH0pO1xuICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgaXRlcmF0ZShpdGVyYWJsZSwgdGhhdFtBRERFUl0sIHRoYXQsIElTX01BUCk7XG4gICAgfSk7XG5cbiAgICB2YXIgZ2V0SW50ZXJuYWxTdGF0ZSA9IGludGVybmFsU3RhdGVHZXR0ZXJGb3IoQ09OU1RSVUNUT1JfTkFNRSk7XG5cbiAgICB2YXIgZGVmaW5lID0gZnVuY3Rpb24gKHRoYXQsIGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhhdCk7XG4gICAgICB2YXIgZGF0YSA9IGdldFdlYWtEYXRhKGFuT2JqZWN0KGtleSksIHRydWUpO1xuICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHVuY2F1Z2h0RnJvemVuU3RvcmUoc3RhdGUpLnNldChrZXksIHZhbHVlKTtcbiAgICAgIGVsc2UgZGF0YVtzdGF0ZS5pZF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGF0O1xuICAgIH07XG5cbiAgICByZWRlZmluZUFsbChDLnByb3RvdHlwZSwge1xuICAgICAgLy8gMjMuMy4zLjIgV2Vha01hcC5wcm90b3R5cGUuZGVsZXRlKGtleSlcbiAgICAgIC8vIDIzLjQuMy4zIFdlYWtTZXQucHJvdG90eXBlLmRlbGV0ZSh2YWx1ZSlcbiAgICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWtEYXRhKGtleSk7XG4gICAgICAgIGlmIChkYXRhID09PSB0cnVlKSByZXR1cm4gdW5jYXVnaHRGcm96ZW5TdG9yZShzdGF0ZSlbJ2RlbGV0ZSddKGtleSk7XG4gICAgICAgIHJldHVybiBkYXRhICYmICRoYXMoZGF0YSwgc3RhdGUuaWQpICYmIGRlbGV0ZSBkYXRhW3N0YXRlLmlkXTtcbiAgICAgIH0sXG4gICAgICAvLyAyMy4zLjMuNCBXZWFrTWFwLnByb3RvdHlwZS5oYXMoa2V5KVxuICAgICAgLy8gMjMuNC4zLjQgV2Vha1NldC5wcm90b3R5cGUuaGFzKHZhbHVlKVxuICAgICAgaGFzOiBmdW5jdGlvbiBoYXMoa2V5KSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGdldEludGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWtEYXRhKGtleSk7XG4gICAgICAgIGlmIChkYXRhID09PSB0cnVlKSByZXR1cm4gdW5jYXVnaHRGcm96ZW5TdG9yZShzdGF0ZSkuaGFzKGtleSk7XG4gICAgICAgIHJldHVybiBkYXRhICYmICRoYXMoZGF0YSwgc3RhdGUuaWQpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmVkZWZpbmVBbGwoQy5wcm90b3R5cGUsIElTX01BUCA/IHtcbiAgICAgIC8vIDIzLjMuMy4zIFdlYWtNYXAucHJvdG90eXBlLmdldChrZXkpXG4gICAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZ2V0SW50ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgaWYgKGlzT2JqZWN0KGtleSkpIHtcbiAgICAgICAgICB2YXIgZGF0YSA9IGdldFdlYWtEYXRhKGtleSk7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IHRydWUpIHJldHVybiB1bmNhdWdodEZyb3plblN0b3JlKHN0YXRlKS5nZXQoa2V5KTtcbiAgICAgICAgICByZXR1cm4gZGF0YSA/IGRhdGFbc3RhdGUuaWRdIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLy8gMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gICAgICBzZXQ6IGZ1bmN0aW9uIHNldChrZXksIHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmUodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICB9XG4gICAgfSA6IHtcbiAgICAgIC8vIDIzLjQuMy4xIFdlYWtTZXQucHJvdG90eXBlLmFkZCh2YWx1ZSlcbiAgICAgIGFkZDogZnVuY3Rpb24gYWRkKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBkZWZpbmUodGhpcywgdmFsdWUsIHRydWUpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIEM7XG4gIH1cbn07XG4iLCIndXNlIHN0cmljdCc7XG52YXIgJCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9leHBvcnQnKTtcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgaXNGb3JjZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtZm9yY2VkJyk7XG52YXIgcmVkZWZpbmUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVkZWZpbmUnKTtcbnZhciBJbnRlcm5hbE1ldGFkYXRhTW9kdWxlID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ludGVybmFsLW1ldGFkYXRhJyk7XG52YXIgaXRlcmF0ZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pdGVyYXRlJyk7XG52YXIgYW5JbnN0YW5jZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9hbi1pbnN0YW5jZScpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG52YXIgY2hlY2tDb3JyZWN0bmVzc09mSXRlcmF0aW9uID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NoZWNrLWNvcnJlY3RuZXNzLW9mLWl0ZXJhdGlvbicpO1xudmFyIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL3NldC10by1zdHJpbmctdGFnJyk7XG52YXIgaW5oZXJpdElmUmVxdWlyZWQgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW5oZXJpdC1pZi1yZXF1aXJlZCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChDT05TVFJVQ1RPUl9OQU1FLCB3cmFwcGVyLCBjb21tb24pIHtcbiAgdmFyIElTX01BUCA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignTWFwJykgIT09IC0xO1xuICB2YXIgSVNfV0VBSyA9IENPTlNUUlVDVE9SX05BTUUuaW5kZXhPZignV2VhaycpICE9PSAtMTtcbiAgdmFyIEFEREVSID0gSVNfTUFQID8gJ3NldCcgOiAnYWRkJztcbiAgdmFyIE5hdGl2ZUNvbnN0cnVjdG9yID0gZ2xvYmFsW0NPTlNUUlVDVE9SX05BTUVdO1xuICB2YXIgTmF0aXZlUHJvdG90eXBlID0gTmF0aXZlQ29uc3RydWN0b3IgJiYgTmF0aXZlQ29uc3RydWN0b3IucHJvdG90eXBlO1xuICB2YXIgQ29uc3RydWN0b3IgPSBOYXRpdmVDb25zdHJ1Y3RvcjtcbiAgdmFyIGV4cG9ydGVkID0ge307XG5cbiAgdmFyIGZpeE1ldGhvZCA9IGZ1bmN0aW9uIChLRVkpIHtcbiAgICB2YXIgbmF0aXZlTWV0aG9kID0gTmF0aXZlUHJvdG90eXBlW0tFWV07XG4gICAgcmVkZWZpbmUoTmF0aXZlUHJvdG90eXBlLCBLRVksXG4gICAgICBLRVkgPT0gJ2FkZCcgPyBmdW5jdGlvbiBhZGQodmFsdWUpIHtcbiAgICAgICAgbmF0aXZlTWV0aG9kLmNhbGwodGhpcywgdmFsdWUgPT09IDAgPyAwIDogdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gOiBLRVkgPT0gJ2RlbGV0ZScgPyBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBJU19XRUFLICYmICFpc09iamVjdChrZXkpID8gZmFsc2UgOiBuYXRpdmVNZXRob2QuY2FsbCh0aGlzLCBrZXkgPT09IDAgPyAwIDoga2V5KTtcbiAgICAgIH0gOiBLRVkgPT0gJ2dldCcgPyBmdW5jdGlvbiBnZXQoa2V5KSB7XG4gICAgICAgIHJldHVybiBJU19XRUFLICYmICFpc09iamVjdChrZXkpID8gdW5kZWZpbmVkIDogbmF0aXZlTWV0aG9kLmNhbGwodGhpcywga2V5ID09PSAwID8gMCA6IGtleSk7XG4gICAgICB9IDogS0VZID09ICdoYXMnID8gZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgICByZXR1cm4gSVNfV0VBSyAmJiAhaXNPYmplY3Qoa2V5KSA/IGZhbHNlIDogbmF0aXZlTWV0aG9kLmNhbGwodGhpcywga2V5ID09PSAwID8gMCA6IGtleSk7XG4gICAgICB9IDogZnVuY3Rpb24gc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgbmF0aXZlTWV0aG9kLmNhbGwodGhpcywga2V5ID09PSAwID8gMCA6IGtleSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cbiAgICApO1xuICB9O1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXG4gIGlmIChpc0ZvcmNlZChDT05TVFJVQ1RPUl9OQU1FLCB0eXBlb2YgTmF0aXZlQ29uc3RydWN0b3IgIT0gJ2Z1bmN0aW9uJyB8fCAhKElTX1dFQUsgfHwgTmF0aXZlUHJvdG90eXBlLmZvckVhY2ggJiYgIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICBuZXcgTmF0aXZlQ29uc3RydWN0b3IoKS5lbnRyaWVzKCkubmV4dCgpO1xuICB9KSkpKSB7XG4gICAgLy8gY3JlYXRlIGNvbGxlY3Rpb24gY29uc3RydWN0b3JcbiAgICBDb25zdHJ1Y3RvciA9IGNvbW1vbi5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCBDT05TVFJVQ1RPUl9OQU1FLCBJU19NQVAsIEFEREVSKTtcbiAgICBJbnRlcm5hbE1ldGFkYXRhTW9kdWxlLlJFUVVJUkVEID0gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0ZvcmNlZChDT05TVFJVQ1RPUl9OQU1FLCB0cnVlKSkge1xuICAgIHZhciBpbnN0YW5jZSA9IG5ldyBDb25zdHJ1Y3RvcigpO1xuICAgIC8vIGVhcmx5IGltcGxlbWVudGF0aW9ucyBub3Qgc3VwcG9ydHMgY2hhaW5pbmdcbiAgICB2YXIgSEFTTlRfQ0hBSU5JTkcgPSBpbnN0YW5jZVtBRERFUl0oSVNfV0VBSyA/IHt9IDogLTAsIDEpICE9IGluc3RhbmNlO1xuICAgIC8vIFY4IH4gQ2hyb21pdW0gNDAtIHdlYWstY29sbGVjdGlvbnMgdGhyb3dzIG9uIHByaW1pdGl2ZXMsIGJ1dCBzaG91bGQgcmV0dXJuIGZhbHNlXG4gICAgdmFyIFRIUk9XU19PTl9QUklNSVRJVkVTID0gZmFpbHMoZnVuY3Rpb24gKCkgeyBpbnN0YW5jZS5oYXMoMSk7IH0pO1xuICAgIC8vIG1vc3QgZWFybHkgaW1wbGVtZW50YXRpb25zIGRvZXNuJ3Qgc3VwcG9ydHMgaXRlcmFibGVzLCBtb3N0IG1vZGVybiAtIG5vdCBjbG9zZSBpdCBjb3JyZWN0bHlcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbmV3XG4gICAgdmFyIEFDQ0VQVF9JVEVSQUJMRVMgPSBjaGVja0NvcnJlY3RuZXNzT2ZJdGVyYXRpb24oZnVuY3Rpb24gKGl0ZXJhYmxlKSB7IG5ldyBOYXRpdmVDb25zdHJ1Y3RvcihpdGVyYWJsZSk7IH0pO1xuICAgIC8vIGZvciBlYXJseSBpbXBsZW1lbnRhdGlvbnMgLTAgYW5kICswIG5vdCB0aGUgc2FtZVxuICAgIHZhciBCVUdHWV9aRVJPID0gIUlTX1dFQUsgJiYgZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVjggfiBDaHJvbWl1bSA0Mi0gZmFpbHMgb25seSB3aXRoIDUrIGVsZW1lbnRzXG4gICAgICB2YXIgJGluc3RhbmNlID0gbmV3IE5hdGl2ZUNvbnN0cnVjdG9yKCk7XG4gICAgICB2YXIgaW5kZXggPSA1O1xuICAgICAgd2hpbGUgKGluZGV4LS0pICRpbnN0YW5jZVtBRERFUl0oaW5kZXgsIGluZGV4KTtcbiAgICAgIHJldHVybiAhJGluc3RhbmNlLmhhcygtMCk7XG4gICAgfSk7XG5cbiAgICBpZiAoIUFDQ0VQVF9JVEVSQUJMRVMpIHtcbiAgICAgIENvbnN0cnVjdG9yID0gd3JhcHBlcihmdW5jdGlvbiAoZHVtbXksIGl0ZXJhYmxlKSB7XG4gICAgICAgIGFuSW5zdGFuY2UoZHVtbXksIENvbnN0cnVjdG9yLCBDT05TVFJVQ1RPUl9OQU1FKTtcbiAgICAgICAgdmFyIHRoYXQgPSBpbmhlcml0SWZSZXF1aXJlZChuZXcgTmF0aXZlQ29uc3RydWN0b3IoKSwgZHVtbXksIENvbnN0cnVjdG9yKTtcbiAgICAgICAgaWYgKGl0ZXJhYmxlICE9IHVuZGVmaW5lZCkgaXRlcmF0ZShpdGVyYWJsZSwgdGhhdFtBRERFUl0sIHRoYXQsIElTX01BUCk7XG4gICAgICAgIHJldHVybiB0aGF0O1xuICAgICAgfSk7XG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBOYXRpdmVQcm90b3R5cGU7XG4gICAgICBOYXRpdmVQcm90b3R5cGUuY29uc3RydWN0b3IgPSBDb25zdHJ1Y3RvcjtcbiAgICB9XG5cbiAgICBpZiAoVEhST1dTX09OX1BSSU1JVElWRVMgfHwgQlVHR1lfWkVSTykge1xuICAgICAgZml4TWV0aG9kKCdkZWxldGUnKTtcbiAgICAgIGZpeE1ldGhvZCgnaGFzJyk7XG4gICAgICBJU19NQVAgJiYgZml4TWV0aG9kKCdnZXQnKTtcbiAgICB9XG5cbiAgICBpZiAoQlVHR1lfWkVSTyB8fCBIQVNOVF9DSEFJTklORykgZml4TWV0aG9kKEFEREVSKTtcblxuICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgc2hvdWxkIG5vdCBjb250YWlucyAuY2xlYXIgbWV0aG9kXG4gICAgaWYgKElTX1dFQUsgJiYgTmF0aXZlUHJvdG90eXBlLmNsZWFyKSBkZWxldGUgTmF0aXZlUHJvdG90eXBlLmNsZWFyO1xuICB9XG5cbiAgZXhwb3J0ZWRbQ09OU1RSVUNUT1JfTkFNRV0gPSBDb25zdHJ1Y3RvcjtcbiAgJCh7IGdsb2JhbDogdHJ1ZSwgZm9yY2VkOiBDb25zdHJ1Y3RvciAhPSBOYXRpdmVDb25zdHJ1Y3RvciB9LCBleHBvcnRlZCk7XG5cbiAgc2V0VG9TdHJpbmdUYWcoQ29uc3RydWN0b3IsIENPTlNUUlVDVE9SX05BTUUpO1xuXG4gIGlmICghSVNfV0VBSykgY29tbW9uLnNldFN0cm9uZyhDb25zdHJ1Y3RvciwgQ09OU1RSVUNUT1JfTkFNRSwgSVNfTUFQKTtcblxuICByZXR1cm4gQ29uc3RydWN0b3I7XG59O1xuIiwidmFyIGZhaWxzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2ZhaWxzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gIWZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5pc0V4dGVuc2libGUoT2JqZWN0LnByZXZlbnRFeHRlbnNpb25zKHt9KSk7XG59KTtcbiIsInZhciBoaWRkZW5LZXlzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hpZGRlbi1rZXlzJyk7XG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaXMtb2JqZWN0Jyk7XG52YXIgaGFzID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2hhcycpO1xudmFyIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL29iamVjdC1kZWZpbmUtcHJvcGVydHknKS5mO1xudmFyIHVpZCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy91aWQnKTtcbnZhciBGUkVFWklORyA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9mcmVlemluZycpO1xuXG52YXIgTUVUQURBVEEgPSB1aWQoJ21ldGEnKTtcbnZhciBpZCA9IDA7XG5cbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlIHx8IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG52YXIgc2V0TWV0YWRhdGEgPSBmdW5jdGlvbiAoaXQpIHtcbiAgZGVmaW5lUHJvcGVydHkoaXQsIE1FVEFEQVRBLCB7IHZhbHVlOiB7XG4gICAgb2JqZWN0SUQ6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHdlYWtEYXRhOiB7fSAgICAgICAgICAvLyB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IH0pO1xufTtcblxudmFyIGZhc3RLZXkgPSBmdW5jdGlvbiAoaXQsIGNyZWF0ZSkge1xuICAvLyByZXR1cm4gYSBwcmltaXRpdmUgd2l0aCBwcmVmaXhcbiAgaWYgKCFpc09iamVjdChpdCkpIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCcgPyBpdCA6ICh0eXBlb2YgaXQgPT0gJ3N0cmluZycgPyAnUycgOiAnUCcpICsgaXQ7XG4gIGlmICghaGFzKGl0LCBNRVRBREFUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmICghY3JlYXRlKSByZXR1cm4gJ0UnO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YWRhdGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFEQVRBXS5vYmplY3RJRDtcbn07XG5cbnZhciBnZXRXZWFrRGF0YSA9IGZ1bmN0aW9uIChpdCwgY3JlYXRlKSB7XG4gIGlmICghaGFzKGl0LCBNRVRBREFUQSkpIHtcbiAgICAvLyBjYW4ndCBzZXQgbWV0YWRhdGEgdG8gdW5jYXVnaHQgZnJvemVuIG9iamVjdFxuICAgIGlmICghaXNFeHRlbnNpYmxlKGl0KSkgcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZiAoIWNyZWF0ZSkgcmV0dXJuIGZhbHNlO1xuICAgIC8vIGFkZCBtaXNzaW5nIG1ldGFkYXRhXG4gICAgc2V0TWV0YWRhdGEoaXQpO1xuICAvLyByZXR1cm4gdGhlIHN0b3JlIG9mIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH0gcmV0dXJuIGl0W01FVEFEQVRBXS53ZWFrRGF0YTtcbn07XG5cbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24gKGl0KSB7XG4gIGlmIChGUkVFWklORyAmJiBtZXRhLlJFUVVJUkVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQURBVEEpKSBzZXRNZXRhZGF0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG5cbnZhciBtZXRhID0gbW9kdWxlLmV4cG9ydHMgPSB7XG4gIFJFUVVJUkVEOiBmYWxzZSxcbiAgZmFzdEtleTogZmFzdEtleSxcbiAgZ2V0V2Vha0RhdGE6IGdldFdlYWtEYXRhLFxuICBvbkZyZWV6ZTogb25GcmVlemVcbn07XG5cbmhpZGRlbktleXNbTUVUQURBVEFdID0gdHJ1ZTtcbiIsIid1c2Ugc3RyaWN0JztcbnZhciBnbG9iYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvZ2xvYmFsJyk7XG52YXIgcmVkZWZpbmVBbGwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvcmVkZWZpbmUtYWxsJyk7XG52YXIgSW50ZXJuYWxNZXRhZGF0YU1vZHVsZSA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9pbnRlcm5hbC1tZXRhZGF0YScpO1xudmFyIGNvbGxlY3Rpb24gPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvY29sbGVjdGlvbicpO1xudmFyIGNvbGxlY3Rpb25XZWFrID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2NvbGxlY3Rpb24td2VhaycpO1xudmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi4vaW50ZXJuYWxzL2lzLW9iamVjdCcpO1xudmFyIGVuZm9yY2VJdGVybmFsU3RhdGUgPSByZXF1aXJlKCcuLi9pbnRlcm5hbHMvaW50ZXJuYWwtc3RhdGUnKS5lbmZvcmNlO1xudmFyIE5BVElWRV9XRUFLX01BUCA9IHJlcXVpcmUoJy4uL2ludGVybmFscy9uYXRpdmUtd2Vhay1tYXAnKTtcblxudmFyIElTX0lFMTEgPSAhZ2xvYmFsLkFjdGl2ZVhPYmplY3QgJiYgJ0FjdGl2ZVhPYmplY3QnIGluIGdsb2JhbDtcbnZhciBpc0V4dGVuc2libGUgPSBPYmplY3QuaXNFeHRlbnNpYmxlO1xudmFyIEludGVybmFsV2Vha01hcDtcblxudmFyIHdyYXBwZXIgPSBmdW5jdGlvbiAoaW5pdCkge1xuICByZXR1cm4gZnVuY3Rpb24gV2Vha01hcCgpIHtcbiAgICByZXR1cm4gaW5pdCh0aGlzLCBhcmd1bWVudHMubGVuZ3RoID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgfTtcbn07XG5cbi8vIGBXZWFrTWFwYCBjb25zdHJ1Y3RvclxuLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtd2Vha21hcC1jb25zdHJ1Y3RvclxudmFyICRXZWFrTWFwID0gbW9kdWxlLmV4cG9ydHMgPSBjb2xsZWN0aW9uKCdXZWFrTWFwJywgd3JhcHBlciwgY29sbGVjdGlvbldlYWspO1xuXG4vLyBJRTExIFdlYWtNYXAgZnJvemVuIGtleXMgZml4XG4vLyBXZSBjYW4ndCB1c2UgZmVhdHVyZSBkZXRlY3Rpb24gYmVjYXVzZSBpdCBjcmFzaCBzb21lIG9sZCBJRSBidWlsZHNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy80ODVcbmlmIChOQVRJVkVfV0VBS19NQVAgJiYgSVNfSUUxMSkge1xuICBJbnRlcm5hbFdlYWtNYXAgPSBjb2xsZWN0aW9uV2Vhay5nZXRDb25zdHJ1Y3Rvcih3cmFwcGVyLCAnV2Vha01hcCcsIHRydWUpO1xuICBJbnRlcm5hbE1ldGFkYXRhTW9kdWxlLlJFUVVJUkVEID0gdHJ1ZTtcbiAgdmFyIFdlYWtNYXBQcm90b3R5cGUgPSAkV2Vha01hcC5wcm90b3R5cGU7XG4gIHZhciBuYXRpdmVEZWxldGUgPSBXZWFrTWFwUHJvdG90eXBlWydkZWxldGUnXTtcbiAgdmFyIG5hdGl2ZUhhcyA9IFdlYWtNYXBQcm90b3R5cGUuaGFzO1xuICB2YXIgbmF0aXZlR2V0ID0gV2Vha01hcFByb3RvdHlwZS5nZXQ7XG4gIHZhciBuYXRpdmVTZXQgPSBXZWFrTWFwUHJvdG90eXBlLnNldDtcbiAgcmVkZWZpbmVBbGwoV2Vha01hcFByb3RvdHlwZSwge1xuICAgICdkZWxldGUnOiBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoaXNPYmplY3Qoa2V5KSAmJiAhaXNFeHRlbnNpYmxlKGtleSkpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gZW5mb3JjZUl0ZXJuYWxTdGF0ZSh0aGlzKTtcbiAgICAgICAgaWYgKCFzdGF0ZS5mcm96ZW4pIHN0YXRlLmZyb3plbiA9IG5ldyBJbnRlcm5hbFdlYWtNYXAoKTtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZURlbGV0ZS5jYWxsKHRoaXMsIGtleSkgfHwgc3RhdGUuZnJvemVuWydkZWxldGUnXShrZXkpO1xuICAgICAgfSByZXR1cm4gbmF0aXZlRGVsZXRlLmNhbGwodGhpcywga2V5KTtcbiAgICB9LFxuICAgIGhhczogZnVuY3Rpb24gaGFzKGtleSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkgJiYgIWlzRXh0ZW5zaWJsZShrZXkpKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGVuZm9yY2VJdGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIGlmICghc3RhdGUuZnJvemVuKSBzdGF0ZS5mcm96ZW4gPSBuZXcgSW50ZXJuYWxXZWFrTWFwKCk7XG4gICAgICAgIHJldHVybiBuYXRpdmVIYXMuY2FsbCh0aGlzLCBrZXkpIHx8IHN0YXRlLmZyb3plbi5oYXMoa2V5KTtcbiAgICAgIH0gcmV0dXJuIG5hdGl2ZUhhcy5jYWxsKHRoaXMsIGtleSk7XG4gICAgfSxcbiAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcbiAgICAgIGlmIChpc09iamVjdChrZXkpICYmICFpc0V4dGVuc2libGUoa2V5KSkge1xuICAgICAgICB2YXIgc3RhdGUgPSBlbmZvcmNlSXRlcm5hbFN0YXRlKHRoaXMpO1xuICAgICAgICBpZiAoIXN0YXRlLmZyb3plbikgc3RhdGUuZnJvemVuID0gbmV3IEludGVybmFsV2Vha01hcCgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlSGFzLmNhbGwodGhpcywga2V5KSA/IG5hdGl2ZUdldC5jYWxsKHRoaXMsIGtleSkgOiBzdGF0ZS5mcm96ZW4uZ2V0KGtleSk7XG4gICAgICB9IHJldHVybiBuYXRpdmVHZXQuY2FsbCh0aGlzLCBrZXkpO1xuICAgIH0sXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgaWYgKGlzT2JqZWN0KGtleSkgJiYgIWlzRXh0ZW5zaWJsZShrZXkpKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IGVuZm9yY2VJdGVybmFsU3RhdGUodGhpcyk7XG4gICAgICAgIGlmICghc3RhdGUuZnJvemVuKSBzdGF0ZS5mcm96ZW4gPSBuZXcgSW50ZXJuYWxXZWFrTWFwKCk7XG4gICAgICAgIG5hdGl2ZUhhcy5jYWxsKHRoaXMsIGtleSkgPyBuYXRpdmVTZXQuY2FsbCh0aGlzLCBrZXksIHZhbHVlKSA6IHN0YXRlLmZyb3plbi5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICB9IGVsc2UgbmF0aXZlU2V0LmNhbGwodGhpcywga2V5LCB2YWx1ZSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gIH0pO1xufVxuIiwidmFyIGNyZWF0ZUJhc2VGb3IgPSByZXF1aXJlKCcuL19jcmVhdGVCYXNlRm9yJyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGJhc2VGb3JPd25gIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYG9iamVjdGBcbiAqIHByb3BlcnRpZXMgcmV0dXJuZWQgYnkgYGtleXNGdW5jYCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LlxuICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYG9iamVjdGAuXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICovXG52YXIgYmFzZUZvciA9IGNyZWF0ZUJhc2VGb3IoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlRm9yO1xuIiwidmFyIGJhc2VGb3IgPSByZXF1aXJlKCcuL19iYXNlRm9yJyksXG4gICAga2V5cyA9IHJlcXVpcmUoJy4va2V5cycpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZvck93bmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VGb3JPd24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUZvck93bjtcbiIsIi8qKlxuICogVGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZmlyc3QgYXJndW1lbnQgaXQgcmVjZWl2ZXMuXG4gKlxuICogQHN0YXRpY1xuICogQHNpbmNlIDAuMS4wXG4gKiBAbWVtYmVyT2YgX1xuICogQGNhdGVnb3J5IFV0aWxcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgQW55IHZhbHVlLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gKlxuICogY29uc29sZS5sb2coXy5pZGVudGl0eShvYmplY3QpID09PSBvYmplY3QpO1xuICogLy8gPT4gdHJ1ZVxuICovXG5mdW5jdGlvbiBpZGVudGl0eSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaWRlbnRpdHk7XG4iLCIvKipcbiAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGJhc2UgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gIHJldHVybiBmdW5jdGlvbihvYmplY3QsIGl0ZXJhdGVlLCBrZXlzRnVuYykge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICBwcm9wcyA9IGtleXNGdW5jKG9iamVjdCksXG4gICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgdmFyIGtleSA9IHByb3BzW2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdO1xuICAgICAgaWYgKGl0ZXJhdGVlKGl0ZXJhYmxlW2tleV0sIGtleSwgaXRlcmFibGUpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBjcmVhdGVCYXNlRm9yO1xuIiwiLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gKi9cbmZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgIGlmIChpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSkgPT09IGZhbHNlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGFycmF5O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5RWFjaDtcbiIsInZhciBhcnJheUVhY2ggPSByZXF1aXJlKCcuL19hcnJheUVhY2gnKSxcbiAgICBiYXNlQ3JlYXRlID0gcmVxdWlyZSgnLi9fYmFzZUNyZWF0ZScpLFxuICAgIGJhc2VGb3JPd24gPSByZXF1aXJlKCcuL19iYXNlRm9yT3duJyksXG4gICAgYmFzZUl0ZXJhdGVlID0gcmVxdWlyZSgnLi9fYmFzZUl0ZXJhdGVlJyksXG4gICAgZ2V0UHJvdG90eXBlID0gcmVxdWlyZSgnLi9fZ2V0UHJvdG90eXBlJyksXG4gICAgaXNBcnJheSA9IHJlcXVpcmUoJy4vaXNBcnJheScpLFxuICAgIGlzQnVmZmVyID0gcmVxdWlyZSgnLi9pc0J1ZmZlcicpLFxuICAgIGlzRnVuY3Rpb24gPSByZXF1aXJlKCcuL2lzRnVuY3Rpb24nKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1R5cGVkQXJyYXkgPSByZXF1aXJlKCcuL2lzVHlwZWRBcnJheScpO1xuXG4vKipcbiAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAqIGBhY2N1bXVsYXRvcmAgb2JqZWN0IHdoaWNoIGlzIHRoZSByZXN1bHQgb2YgcnVubmluZyBlYWNoIG9mIGl0cyBvd25cbiAqIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgdGhydSBgaXRlcmF0ZWVgLCB3aXRoIGVhY2ggaW52b2NhdGlvblxuICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICogcHJvdmlkZWQsIGEgbmV3IG9iamVjdCB3aXRoIHRoZSBzYW1lIGBbW1Byb3RvdHlwZV1dYCB3aWxsIGJlIHVzZWQuIFRoZVxuICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIGZvdXIgYXJndW1lbnRzOiAoYWNjdW11bGF0b3IsIHZhbHVlLCBrZXksIG9iamVjdCkuXG4gKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAxLjMuMFxuICogQGNhdGVnb3J5IE9iamVjdFxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBjdXN0b20gYWNjdW11bGF0b3IgdmFsdWUuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gKiAgIHJlc3VsdC5wdXNoKG4gKj0gbik7XG4gKiAgIHJldHVybiBuICUgMiA9PSAwO1xuICogfSwgW10pO1xuICogLy8gPT4gWzQsIDldXG4gKlxuICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICogfSwge30pO1xuICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICovXG5mdW5jdGlvbiB0cmFuc2Zvcm0ob2JqZWN0LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgaXNBcnJMaWtlID0gaXNBcnIgfHwgaXNCdWZmZXIob2JqZWN0KSB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KTtcblxuICBpdGVyYXRlZSA9IGJhc2VJdGVyYXRlZShpdGVyYXRlZSwgNCk7XG4gIGlmIChhY2N1bXVsYXRvciA9PSBudWxsKSB7XG4gICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgIGlmIChpc0Fyckxpa2UpIHtcbiAgICAgIGFjY3VtdWxhdG9yID0gaXNBcnIgPyBuZXcgQ3RvciA6IFtdO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc09iamVjdChvYmplY3QpKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGlzRnVuY3Rpb24oQ3RvcikgPyBiYXNlQ3JlYXRlKGdldFByb3RvdHlwZShvYmplY3QpKSA6IHt9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGFjY3VtdWxhdG9yID0ge307XG4gICAgfVxuICB9XG4gIChpc0Fyckxpa2UgPyBhcnJheUVhY2ggOiBiYXNlRm9yT3duKShvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gIH0pO1xuICByZXR1cm4gYWNjdW11bGF0b3I7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdHJhbnNmb3JtO1xuIiwiIWZ1bmN0aW9uKHQsZSl7XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBtb2R1bGU/bW9kdWxlLmV4cG9ydHM9ZSgpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoZSk6KHQ9dHx8c2VsZikuU3dlZXRhbGVydDI9ZSgpfSh0aGlzLGZ1bmN0aW9uKCl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gcih0KXtyZXR1cm4ocj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9ZnVuY3Rpb24gbyh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gaSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgbz1lW25dO28uZW51bWVyYWJsZT1vLmVudW1lcmFibGV8fCExLG8uY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIG8mJihvLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxvLmtleSxvKX19ZnVuY3Rpb24gYSh0LGUsbil7cmV0dXJuIGUmJmkodC5wcm90b3R5cGUsZSksbiYmaSh0LG4pLHR9ZnVuY3Rpb24gYygpe3JldHVybihjPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe3ZhciBuPWFyZ3VtZW50c1tlXTtmb3IodmFyIG8gaW4gbilPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixvKSYmKHRbb109bltvXSl9cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4ocz1PYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKHQpe3JldHVybiB0Ll9fcHJvdG9fX3x8T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfSkodCl9ZnVuY3Rpb24gdSh0LGUpe3JldHVybih1PU9iamVjdC5zZXRQcm90b3R5cGVPZnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdC5fX3Byb3RvX189ZSx0fSkodCxlKX1mdW5jdGlvbiBsKHQsZSxuKXtyZXR1cm4obD1mdW5jdGlvbigpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0LmNvbnN0cnVjdCYmIVJlZmxlY3QuY29uc3RydWN0LnNoYW0pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFByb3h5KXJldHVybiAxO3RyeXtyZXR1cm4gRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChSZWZsZWN0LmNvbnN0cnVjdChEYXRlLFtdLGZ1bmN0aW9uKCl7fSkpLDF9Y2F0Y2godCl7cmV0dXJufX19KCk/UmVmbGVjdC5jb25zdHJ1Y3Q6ZnVuY3Rpb24odCxlLG4pe3ZhciBvPVtudWxsXTtvLnB1c2guYXBwbHkobyxlKTt2YXIgaT1uZXcoRnVuY3Rpb24uYmluZC5hcHBseSh0LG8pKTtyZXR1cm4gbiYmdShpLG4ucHJvdG90eXBlKSxpfSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfWZ1bmN0aW9uIGQodCxlKXtyZXR1cm4hZXx8XCJvYmplY3RcIiE9dHlwZW9mIGUmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIGU/ZnVuY3Rpb24odCl7aWYodm9pZCAwPT09dCl0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7cmV0dXJuIHR9KHQpOmV9ZnVuY3Rpb24gcCh0LGUsbil7cmV0dXJuKHA9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuZ2V0P1JlZmxlY3QuZ2V0OmZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1mdW5jdGlvbih0LGUpe2Zvcig7IU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LGUpJiZudWxsIT09KHQ9cyh0KSk7KTtyZXR1cm4gdH0odCxlKTtpZihvKXt2YXIgaT1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG8sZSk7cmV0dXJuIGkuZ2V0P2kuZ2V0LmNhbGwobik6aS52YWx1ZX19KSh0LGUsbnx8dCl9ZnVuY3Rpb24gZihlKXtyZXR1cm4gT2JqZWN0LmtleXMoZSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBlW3RdfSl9ZnVuY3Rpb24gbSh0KXtyZXR1cm4gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodCl9ZnVuY3Rpb24gdih0KXtjb25zb2xlLmVycm9yKFwiXCIuY29uY2F0KEgsXCIgXCIpLmNvbmNhdCh0KSl9ZnVuY3Rpb24gaCh0LGUpe3ZhciBuO249J1wiJy5jb25jYXQodCwnXCIgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuIFBsZWFzZSB1c2UgXCInKS5jb25jYXQoZSwnXCIgaW5zdGVhZC4nKSwtMT09PU4uaW5kZXhPZihuKSYmKE4ucHVzaChuKSxEKG4pKX1mdW5jdGlvbiBnKHQpe3JldHVybiB0JiZQcm9taXNlLnJlc29sdmUodCk9PT10fWZ1bmN0aW9uIGIodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBFbGVtZW50fHxcIm9iamVjdFwiPT09cihlPXQpJiZlLmpxdWVyeTt2YXIgZX1mdW5jdGlvbiB0KHQpe3ZhciBlPXt9O2Zvcih2YXIgbiBpbiB0KWVbdFtuXV09XCJzd2FsMi1cIit0W25dO3JldHVybiBlfWZ1bmN0aW9uIHkodCl7dmFyIGU9VygpO3JldHVybiBlP2UucXVlcnlTZWxlY3Rvcih0KTpudWxsfWZ1bmN0aW9uIGUodCl7cmV0dXJuIHkoXCIuXCIuY29uY2F0KHQpKX1mdW5jdGlvbiBuKCl7dmFyIHQ9SygpO3JldHVybiBtKHQucXVlcnlTZWxlY3RvckFsbChcIi5cIi5jb25jYXQoRi5pY29uKSkpfWZ1bmN0aW9uIHcoKXt2YXIgdD1uKCkuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiBwdCh0KX0pO3JldHVybiB0Lmxlbmd0aD90WzBdOm51bGx9ZnVuY3Rpb24gQygpe3JldHVybiBlKEYudGl0bGUpfWZ1bmN0aW9uIGsoKXtyZXR1cm4gZShGLmNvbnRlbnQpfWZ1bmN0aW9uIHgoKXtyZXR1cm4gZShGLmltYWdlKX1mdW5jdGlvbiBQKCl7cmV0dXJuIGUoRltcInByb2dyZXNzLXN0ZXBzXCJdKX1mdW5jdGlvbiBBKCl7cmV0dXJuIGUoRltcInZhbGlkYXRpb24tbWVzc2FnZVwiXSl9ZnVuY3Rpb24gQigpe3JldHVybiB5KFwiLlwiLmNvbmNhdChGLmFjdGlvbnMsXCIgLlwiKS5jb25jYXQoRi5jb25maXJtKSl9ZnVuY3Rpb24gUygpe3JldHVybiB5KFwiLlwiLmNvbmNhdChGLmFjdGlvbnMsXCIgLlwiKS5jb25jYXQoRi5jYW5jZWwpKX1mdW5jdGlvbiBFKCl7cmV0dXJuIGUoRi5hY3Rpb25zKX1mdW5jdGlvbiBPKCl7cmV0dXJuIGUoRi5oZWFkZXIpfWZ1bmN0aW9uIFQoKXtyZXR1cm4gZShGLmZvb3Rlcil9ZnVuY3Rpb24gTCgpe3JldHVybiBlKEZbXCJ0aW1lci1wcm9ncmVzcy1iYXJcIl0pfWZ1bmN0aW9uIHEoKXtyZXR1cm4gZShGLmNsb3NlKX1mdW5jdGlvbiBJKCl7dmFyIHQ9bShLKCkucXVlcnlTZWxlY3RvckFsbCgnW3RhYmluZGV4XTpub3QoW3RhYmluZGV4PVwiLTFcIl0pOm5vdChbdGFiaW5kZXg9XCIwXCJdKScpKS5zb3J0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSksKGU9cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiKSkpPHQ/MTp0PGU/LTE6MH0pLGU9bShLKCkucXVlcnlTZWxlY3RvckFsbCgnXFxuICBhW2hyZWZdLFxcbiAgYXJlYVtocmVmXSxcXG4gIGlucHV0Om5vdChbZGlzYWJsZWRdKSxcXG4gIHNlbGVjdDpub3QoW2Rpc2FibGVkXSksXFxuICB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksXFxuICBidXR0b246bm90KFtkaXNhYmxlZF0pLFxcbiAgaWZyYW1lLFxcbiAgb2JqZWN0LFxcbiAgZW1iZWQsXFxuICBbdGFiaW5kZXg9XCIwXCJdLFxcbiAgW2NvbnRlbnRlZGl0YWJsZV0sXFxuICBhdWRpb1tjb250cm9sc10sXFxuICB2aWRlb1tjb250cm9sc10sXFxuICBzdW1tYXJ5XFxuJykpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm5cIi0xXCIhPT10LmdldEF0dHJpYnV0ZShcInRhYmluZGV4XCIpfSk7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXSxuPTA7bjx0Lmxlbmd0aDtuKyspLTE9PT1lLmluZGV4T2YodFtuXSkmJmUucHVzaCh0W25dKTtyZXR1cm4gZX0odC5jb25jYXQoZSkpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gcHQodCl9KX1mdW5jdGlvbiBqKCl7cmV0dXJuIVkoKSYmIWRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKEZbXCJuby1iYWNrZHJvcFwiXSl9ZnVuY3Rpb24gTShlLHQpe2lmKGUudGV4dENvbnRlbnQ9XCJcIix0KXt2YXIgbj0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKHQsXCJ0ZXh0L2h0bWxcIik7bShuLnF1ZXJ5U2VsZWN0b3IoXCJoZWFkXCIpLmNoaWxkTm9kZXMpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5hcHBlbmRDaGlsZCh0KX0pLG0obi5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKS5jaGlsZE5vZGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2UuYXBwZW5kQ2hpbGQodCl9KX19ZnVuY3Rpb24gVih0LGUpe2lmKGUpe2Zvcih2YXIgbj1lLnNwbGl0KC9cXHMrLyksbz0wO288bi5sZW5ndGg7bysrKWlmKCF0LmNsYXNzTGlzdC5jb250YWlucyhuW29dKSlyZXR1cm47cmV0dXJuIDF9fWZ1bmN0aW9uIFIodCxlLG4pe3ZhciBvLGk7aWYoaT1lLG0oKG89dCkuY2xhc3NMaXN0KS5mb3JFYWNoKGZ1bmN0aW9uKHQpey0xPT09ZihGKS5pbmRleE9mKHQpJiYtMT09PWYoeikuaW5kZXhPZih0KSYmLTE9PT1mKGkuc2hvd0NsYXNzKS5pbmRleE9mKHQpJiZvLmNsYXNzTGlzdC5yZW1vdmUodCl9KSxlLmN1c3RvbUNsYXNzJiZlLmN1c3RvbUNsYXNzW25dKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZS5jdXN0b21DbGFzc1tuXSYmIWUuY3VzdG9tQ2xhc3Nbbl0uZm9yRWFjaClyZXR1cm4gRChcIkludmFsaWQgdHlwZSBvZiBjdXN0b21DbGFzcy5cIi5jb25jYXQobiwnISBFeHBlY3RlZCBzdHJpbmcgb3IgaXRlcmFibGUgb2JqZWN0LCBnb3QgXCInKS5jb25jYXQocihlLmN1c3RvbUNsYXNzW25dKSwnXCInKSk7dXQodCxlLmN1c3RvbUNsYXNzW25dKX19dmFyIEg9XCJTd2VldEFsZXJ0MjpcIixEPWZ1bmN0aW9uKHQpe2NvbnNvbGUud2FybihcIlwiLmNvbmNhdChILFwiIFwiKS5jb25jYXQodCkpfSxOPVtdLFU9ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdD90KCk6dH0sXz1PYmplY3QuZnJlZXplKHtjYW5jZWw6XCJjYW5jZWxcIixiYWNrZHJvcDpcImJhY2tkcm9wXCIsY2xvc2U6XCJjbG9zZVwiLGVzYzpcImVzY1wiLHRpbWVyOlwidGltZXJcIn0pLEY9dChbXCJjb250YWluZXJcIixcInNob3duXCIsXCJoZWlnaHQtYXV0b1wiLFwiaW9zZml4XCIsXCJwb3B1cFwiLFwibW9kYWxcIixcIm5vLWJhY2tkcm9wXCIsXCJuby10cmFuc2l0aW9uXCIsXCJ0b2FzdFwiLFwidG9hc3Qtc2hvd25cIixcInRvYXN0LWNvbHVtblwiLFwic2hvd1wiLFwiaGlkZVwiLFwiY2xvc2VcIixcInRpdGxlXCIsXCJoZWFkZXJcIixcImNvbnRlbnRcIixcImh0bWwtY29udGFpbmVyXCIsXCJhY3Rpb25zXCIsXCJjb25maXJtXCIsXCJjYW5jZWxcIixcImZvb3RlclwiLFwiaWNvblwiLFwiaWNvbi1jb250ZW50XCIsXCJpbWFnZVwiLFwiaW5wdXRcIixcImZpbGVcIixcInJhbmdlXCIsXCJzZWxlY3RcIixcInJhZGlvXCIsXCJjaGVja2JveFwiLFwibGFiZWxcIixcInRleHRhcmVhXCIsXCJpbnB1dGVycm9yXCIsXCJ2YWxpZGF0aW9uLW1lc3NhZ2VcIixcInByb2dyZXNzLXN0ZXBzXCIsXCJhY3RpdmUtcHJvZ3Jlc3Mtc3RlcFwiLFwicHJvZ3Jlc3Mtc3RlcFwiLFwicHJvZ3Jlc3Mtc3RlcC1saW5lXCIsXCJsb2FkaW5nXCIsXCJzdHlsZWRcIixcInRvcFwiLFwidG9wLXN0YXJ0XCIsXCJ0b3AtZW5kXCIsXCJ0b3AtbGVmdFwiLFwidG9wLXJpZ2h0XCIsXCJjZW50ZXJcIixcImNlbnRlci1zdGFydFwiLFwiY2VudGVyLWVuZFwiLFwiY2VudGVyLWxlZnRcIixcImNlbnRlci1yaWdodFwiLFwiYm90dG9tXCIsXCJib3R0b20tc3RhcnRcIixcImJvdHRvbS1lbmRcIixcImJvdHRvbS1sZWZ0XCIsXCJib3R0b20tcmlnaHRcIixcImdyb3ctcm93XCIsXCJncm93LWNvbHVtblwiLFwiZ3Jvdy1mdWxsc2NyZWVuXCIsXCJydGxcIixcInRpbWVyLXByb2dyZXNzLWJhclwiLFwidGltZXItcHJvZ3Jlc3MtYmFyLWNvbnRhaW5lclwiLFwic2Nyb2xsYmFyLW1lYXN1cmVcIixcImljb24tc3VjY2Vzc1wiLFwiaWNvbi13YXJuaW5nXCIsXCJpY29uLWluZm9cIixcImljb24tcXVlc3Rpb25cIixcImljb24tZXJyb3JcIl0pLHo9dChbXCJzdWNjZXNzXCIsXCJ3YXJuaW5nXCIsXCJpbmZvXCIsXCJxdWVzdGlvblwiLFwiZXJyb3JcIl0pLFc9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keS5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChGLmNvbnRhaW5lcikpfSxLPWZ1bmN0aW9uKCl7cmV0dXJuIGUoRi5wb3B1cCl9LFk9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoRltcInRvYXN0LXNob3duXCJdKX0sWj17cHJldmlvdXNCb2R5UGFkZGluZzpudWxsfTtmdW5jdGlvbiBRKHQsZSl7aWYoIWUpcmV0dXJuIG51bGw7c3dpdGNoKGUpe2Nhc2VcInNlbGVjdFwiOmNhc2VcInRleHRhcmVhXCI6Y2FzZVwiZmlsZVwiOnJldHVybiBkdCh0LEZbZV0pO2Nhc2VcImNoZWNrYm94XCI6cmV0dXJuIHQucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoRi5jaGVja2JveCxcIiBpbnB1dFwiKSk7Y2FzZVwicmFkaW9cIjpyZXR1cm4gdC5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChGLnJhZGlvLFwiIGlucHV0OmNoZWNrZWRcIikpfHx0LnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KEYucmFkaW8sXCIgaW5wdXQ6Zmlyc3QtY2hpbGRcIikpO2Nhc2VcInJhbmdlXCI6cmV0dXJuIHQucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoRi5yYW5nZSxcIiBpbnB1dFwiKSk7ZGVmYXVsdDpyZXR1cm4gZHQodCxGLmlucHV0KX19ZnVuY3Rpb24gJCh0KXtpZih0LmZvY3VzKCksXCJmaWxlXCIhPT10LnR5cGUpe3ZhciBlPXQudmFsdWU7dC52YWx1ZT1cIlwiLHQudmFsdWU9ZX19ZnVuY3Rpb24gSih0LGUsbil7dCYmZSYmKFwic3RyaW5nXCI9PXR5cGVvZiBlJiYoZT1lLnNwbGl0KC9cXHMrLykuZmlsdGVyKEJvb2xlYW4pKSxlLmZvckVhY2goZnVuY3Rpb24oZSl7dC5mb3JFYWNoP3QuZm9yRWFjaChmdW5jdGlvbih0KXtuP3QuY2xhc3NMaXN0LmFkZChlKTp0LmNsYXNzTGlzdC5yZW1vdmUoZSl9KTpuP3QuY2xhc3NMaXN0LmFkZChlKTp0LmNsYXNzTGlzdC5yZW1vdmUoZSl9KSl9ZnVuY3Rpb24gWCh0LGUsbil7bnx8MD09PXBhcnNlSW50KG4pP3Quc3R5bGVbZV09XCJudW1iZXJcIj09dHlwZW9mIG4/XCJcIi5jb25jYXQobixcInB4XCIpOm46dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShlKX1mdW5jdGlvbiBHKHQsZSl7dmFyIG49MTxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1lP2U6XCJmbGV4XCI7dC5zdHlsZS5vcGFjaXR5PVwiXCIsdC5zdHlsZS5kaXNwbGF5PW59ZnVuY3Rpb24gdHQodCl7dC5zdHlsZS5vcGFjaXR5PVwiXCIsdC5zdHlsZS5kaXNwbGF5PVwibm9uZVwifWZ1bmN0aW9uIGV0KHQsZSxuKXtlP0codCxuKTp0dCh0KX1mdW5jdGlvbiBudCh0KXt2YXIgZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KSxuPXBhcnNlRmxvYXQoZS5nZXRQcm9wZXJ0eVZhbHVlKFwiYW5pbWF0aW9uLWR1cmF0aW9uXCIpfHxcIjBcIiksbz1wYXJzZUZsb2F0KGUuZ2V0UHJvcGVydHlWYWx1ZShcInRyYW5zaXRpb24tZHVyYXRpb25cIil8fFwiMFwiKTtyZXR1cm4gMDxufHwwPG99ZnVuY3Rpb24gb3QodCxlKXt2YXIgbj0xPGFyZ3VtZW50cy5sZW5ndGgmJnZvaWQgMCE9PWUmJmUsbz1MKCk7cHQobykmJihuJiYoby5zdHlsZS50cmFuc2l0aW9uPVwibm9uZVwiLG8uc3R5bGUud2lkdGg9XCIxMDAlXCIpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtvLnN0eWxlLnRyYW5zaXRpb249XCJ3aWR0aCBcIi5jb25jYXQodC8xZTMsXCJzIGxpbmVhclwiKSxvLnN0eWxlLndpZHRoPVwiMCVcIn0sMTApKX1mdW5jdGlvbiBpdCgpe3JldHVyblwidW5kZWZpbmVkXCI9PXR5cGVvZiB3aW5kb3d8fFwidW5kZWZpbmVkXCI9PXR5cGVvZiBkb2N1bWVudH1mdW5jdGlvbiBydCh0KXtHZS5pc1Zpc2libGUoKSYmc3QhPT10LnRhcmdldC52YWx1ZSYmR2UucmVzZXRWYWxpZGF0aW9uTWVzc2FnZSgpLHN0PXQudGFyZ2V0LnZhbHVlfWZ1bmN0aW9uIGF0KHQsZSl7dCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50P2UuYXBwZW5kQ2hpbGQodCk6XCJvYmplY3RcIj09PXIodCk/aHQodCxlKTp0JiZNKGUsdCl9ZnVuY3Rpb24gY3QodCxlKXt2YXIgbj1FKCksbz1CKCksaT1TKCk7ZS5zaG93Q29uZmlybUJ1dHRvbnx8ZS5zaG93Q2FuY2VsQnV0dG9ufHx0dChuKSxSKG4sZSxcImFjdGlvbnNcIiksYnQobyxcImNvbmZpcm1cIixlKSxidChpLFwiY2FuY2VsXCIsZSksZS5idXR0b25zU3R5bGluZz9mdW5jdGlvbih0LGUsbil7dXQoW3QsZV0sRi5zdHlsZWQpLG4uY29uZmlybUJ1dHRvbkNvbG9yJiYodC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9bi5jb25maXJtQnV0dG9uQ29sb3IpO24uY2FuY2VsQnV0dG9uQ29sb3ImJihlLnN0eWxlLmJhY2tncm91bmRDb2xvcj1uLmNhbmNlbEJ1dHRvbkNvbG9yKTt2YXIgbz13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiKTt0LnN0eWxlLmJvcmRlckxlZnRDb2xvcj1vLHQuc3R5bGUuYm9yZGVyUmlnaHRDb2xvcj1vfShvLGksZSk6KGx0KFtvLGldLEYuc3R5bGVkKSxvLnN0eWxlLmJhY2tncm91bmRDb2xvcj1vLnN0eWxlLmJvcmRlckxlZnRDb2xvcj1vLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3I9XCJcIixpLnN0eWxlLmJhY2tncm91bmRDb2xvcj1pLnN0eWxlLmJvcmRlckxlZnRDb2xvcj1pLnN0eWxlLmJvcmRlclJpZ2h0Q29sb3I9XCJcIiksZS5yZXZlcnNlQnV0dG9ucyYmby5wYXJlbnROb2RlLmluc2VydEJlZm9yZShpLG8pfXZhciBzdCx1dD1mdW5jdGlvbih0LGUpe0oodCxlLCEwKX0sbHQ9ZnVuY3Rpb24odCxlKXtKKHQsZSwhMSl9LGR0PWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPTA7bjx0LmNoaWxkTm9kZXMubGVuZ3RoO24rKylpZihWKHQuY2hpbGROb2Rlc1tuXSxlKSlyZXR1cm4gdC5jaGlsZE5vZGVzW25dfSxwdD1mdW5jdGlvbih0KXtyZXR1cm4hKCF0fHwhKHQub2Zmc2V0V2lkdGh8fHQub2Zmc2V0SGVpZ2h0fHx0LmdldENsaWVudFJlY3RzKCkubGVuZ3RoKSl9LGZ0PSdcXG4gPGRpdiBhcmlhLWxhYmVsbGVkYnk9XCInLmNvbmNhdChGLnRpdGxlLCdcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiJykuY29uY2F0KEYuY29udGVudCwnXCIgY2xhc3M9XCInKS5jb25jYXQoRi5wb3B1cCwnXCIgdGFiaW5kZXg9XCItMVwiPlxcbiAgIDxkaXYgY2xhc3M9XCInKS5jb25jYXQoRi5oZWFkZXIsJ1wiPlxcbiAgICAgPHVsIGNsYXNzPVwiJykuY29uY2F0KEZbXCJwcm9ncmVzcy1zdGVwc1wiXSwnXCI+PC91bD5cXG4gICAgIDxkaXYgY2xhc3M9XCInKS5jb25jYXQoRi5pY29uLFwiIFwiKS5jb25jYXQoei5lcnJvciwnXCI+PC9kaXY+XFxuICAgICA8ZGl2IGNsYXNzPVwiJykuY29uY2F0KEYuaWNvbixcIiBcIikuY29uY2F0KHoucXVlc3Rpb24sJ1wiPjwvZGl2PlxcbiAgICAgPGRpdiBjbGFzcz1cIicpLmNvbmNhdChGLmljb24sXCIgXCIpLmNvbmNhdCh6Lndhcm5pbmcsJ1wiPjwvZGl2PlxcbiAgICAgPGRpdiBjbGFzcz1cIicpLmNvbmNhdChGLmljb24sXCIgXCIpLmNvbmNhdCh6LmluZm8sJ1wiPjwvZGl2PlxcbiAgICAgPGRpdiBjbGFzcz1cIicpLmNvbmNhdChGLmljb24sXCIgXCIpLmNvbmNhdCh6LnN1Y2Nlc3MsJ1wiPjwvZGl2PlxcbiAgICAgPGltZyBjbGFzcz1cIicpLmNvbmNhdChGLmltYWdlLCdcIiAvPlxcbiAgICAgPGgyIGNsYXNzPVwiJykuY29uY2F0KEYudGl0bGUsJ1wiIGlkPVwiJykuY29uY2F0KEYudGl0bGUsJ1wiPjwvaDI+XFxuICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cIicpLmNvbmNhdChGLmNsb3NlLCdcIj48L2J1dHRvbj5cXG4gICA8L2Rpdj5cXG4gICA8ZGl2IGNsYXNzPVwiJykuY29uY2F0KEYuY29udGVudCwnXCI+XFxuICAgICA8ZGl2IGlkPVwiJykuY29uY2F0KEYuY29udGVudCwnXCIgY2xhc3M9XCInKS5jb25jYXQoRltcImh0bWwtY29udGFpbmVyXCJdLCdcIj48L2Rpdj5cXG4gICAgIDxpbnB1dCBjbGFzcz1cIicpLmNvbmNhdChGLmlucHV0LCdcIiAvPlxcbiAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgY2xhc3M9XCInKS5jb25jYXQoRi5maWxlLCdcIiAvPlxcbiAgICAgPGRpdiBjbGFzcz1cIicpLmNvbmNhdChGLnJhbmdlLCdcIj5cXG4gICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiIC8+XFxuICAgICAgIDxvdXRwdXQ+PC9vdXRwdXQ+XFxuICAgICA8L2Rpdj5cXG4gICAgIDxzZWxlY3QgY2xhc3M9XCInKS5jb25jYXQoRi5zZWxlY3QsJ1wiPjwvc2VsZWN0PlxcbiAgICAgPGRpdiBjbGFzcz1cIicpLmNvbmNhdChGLnJhZGlvLCdcIj48L2Rpdj5cXG4gICAgIDxsYWJlbCBmb3I9XCInKS5jb25jYXQoRi5jaGVja2JveCwnXCIgY2xhc3M9XCInKS5jb25jYXQoRi5jaGVja2JveCwnXCI+XFxuICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiAvPlxcbiAgICAgICA8c3BhbiBjbGFzcz1cIicpLmNvbmNhdChGLmxhYmVsLCdcIj48L3NwYW4+XFxuICAgICA8L2xhYmVsPlxcbiAgICAgPHRleHRhcmVhIGNsYXNzPVwiJykuY29uY2F0KEYudGV4dGFyZWEsJ1wiPjwvdGV4dGFyZWE+XFxuICAgICA8ZGl2IGNsYXNzPVwiJykuY29uY2F0KEZbXCJ2YWxpZGF0aW9uLW1lc3NhZ2VcIl0sJ1wiIGlkPVwiJykuY29uY2F0KEZbXCJ2YWxpZGF0aW9uLW1lc3NhZ2VcIl0sJ1wiPjwvZGl2PlxcbiAgIDwvZGl2PlxcbiAgIDxkaXYgY2xhc3M9XCInKS5jb25jYXQoRi5hY3Rpb25zLCdcIj5cXG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJykuY29uY2F0KEYuY29uZmlybSwnXCI+T0s8L2J1dHRvbj5cXG4gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiJykuY29uY2F0KEYuY2FuY2VsLCdcIj5DYW5jZWw8L2J1dHRvbj5cXG4gICA8L2Rpdj5cXG4gICA8ZGl2IGNsYXNzPVwiJykuY29uY2F0KEYuZm9vdGVyLCdcIj48L2Rpdj5cXG4gICA8ZGl2IGNsYXNzPVwiJykuY29uY2F0KEZbXCJ0aW1lci1wcm9ncmVzcy1iYXItY29udGFpbmVyXCJdLCdcIj5cXG4gICAgIDxkaXYgY2xhc3M9XCInKS5jb25jYXQoRltcInRpbWVyLXByb2dyZXNzLWJhclwiXSwnXCI+PC9kaXY+XFxuICAgPC9kaXY+XFxuIDwvZGl2PlxcbicpLnJlcGxhY2UoLyhefFxcbilcXHMqL2csXCJcIiksbXQ9ZnVuY3Rpb24odCl7dmFyIGUsbj0hIShlPVcoKSkmJihlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZSksbHQoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxbRltcIm5vLWJhY2tkcm9wXCJdLEZbXCJ0b2FzdC1zaG93blwiXSxGW1wiaGFzLWNvbHVtblwiXV0pLCEwKTtpZihpdCgpKXYoXCJTd2VldEFsZXJ0MiByZXF1aXJlcyBkb2N1bWVudCB0byBpbml0aWFsaXplXCIpO2Vsc2V7dmFyIG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtvLmNsYXNzTmFtZT1GLmNvbnRhaW5lcixuJiZ1dChvLEZbXCJuby10cmFuc2l0aW9uXCJdKSxNKG8sZnQpO3ZhciBpLHIsYSxjLHMsdSxsLGQscCxmLG0saCxnPVwic3RyaW5nXCI9PXR5cGVvZihpPXQudGFyZ2V0KT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGkpOmk7Zy5hcHBlbmRDaGlsZChvKSxyPXQsKGE9SygpKS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsci50b2FzdD9cImFsZXJ0XCI6XCJkaWFsb2dcIiksYS5zZXRBdHRyaWJ1dGUoXCJhcmlhLWxpdmVcIixyLnRvYXN0P1wicG9saXRlXCI6XCJhc3NlcnRpdmVcIiksci50b2FzdHx8YS5zZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIsXCJ0cnVlXCIpLGM9ZyxcInJ0bFwiPT09d2luZG93LmdldENvbXB1dGVkU3R5bGUoYykuZGlyZWN0aW9uJiZ1dChXKCksRi5ydGwpLHM9aygpLHU9ZHQocyxGLmlucHV0KSxsPWR0KHMsRi5maWxlKSxkPXMucXVlcnlTZWxlY3RvcihcIi5cIi5jb25jYXQoRi5yYW5nZSxcIiBpbnB1dFwiKSkscD1zLnF1ZXJ5U2VsZWN0b3IoXCIuXCIuY29uY2F0KEYucmFuZ2UsXCIgb3V0cHV0XCIpKSxmPWR0KHMsRi5zZWxlY3QpLG09cy5xdWVyeVNlbGVjdG9yKFwiLlwiLmNvbmNhdChGLmNoZWNrYm94LFwiIGlucHV0XCIpKSxoPWR0KHMsRi50ZXh0YXJlYSksdS5vbmlucHV0PXJ0LGwub25jaGFuZ2U9cnQsZi5vbmNoYW5nZT1ydCxtLm9uY2hhbmdlPXJ0LGgub25pbnB1dD1ydCxkLm9uaW5wdXQ9ZnVuY3Rpb24odCl7cnQodCkscC52YWx1ZT1kLnZhbHVlfSxkLm9uY2hhbmdlPWZ1bmN0aW9uKHQpe3J0KHQpLGQubmV4dFNpYmxpbmcudmFsdWU9ZC52YWx1ZX19fSxodD1mdW5jdGlvbih0LGUpe3QuanF1ZXJ5P2d0KGUsdCk6TShlLHQudG9TdHJpbmcoKSl9LGd0PWZ1bmN0aW9uKHQsZSl7aWYodC50ZXh0Q29udGVudD1cIlwiLDAgaW4gZSlmb3IodmFyIG49MDtuIGluIGU7bisrKXQuYXBwZW5kQ2hpbGQoZVtuXS5jbG9uZU5vZGUoITApKTtlbHNlIHQuYXBwZW5kQ2hpbGQoZS5jbG9uZU5vZGUoITApKX0sdnQ9ZnVuY3Rpb24oKXtpZihpdCgpKXJldHVybiExO3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksZT17V2Via2l0QW5pbWF0aW9uOlwid2Via2l0QW5pbWF0aW9uRW5kXCIsT0FuaW1hdGlvbjpcIm9BbmltYXRpb25FbmQgb2FuaW1hdGlvbmVuZFwiLGFuaW1hdGlvbjpcImFuaW1hdGlvbmVuZFwifTtmb3IodmFyIG4gaW4gZSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmdm9pZCAwIT09dC5zdHlsZVtuXSlyZXR1cm4gZVtuXTtyZXR1cm4hMX0oKTtmdW5jdGlvbiBidCh0LGUsbil7dmFyIG87ZXQodCxuW1wic2hvd1wiLmNvbmNhdCgobz1lKS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStvLnNsaWNlKDEpLFwiQnV0dG9uXCIpXSxcImlubGluZS1ibG9ja1wiKSxNKHQsbltcIlwiLmNvbmNhdChlLFwiQnV0dG9uVGV4dFwiKV0pLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLG5bXCJcIi5jb25jYXQoZSxcIkJ1dHRvbkFyaWFMYWJlbFwiKV0pLHQuY2xhc3NOYW1lPUZbZV0sUih0LG4sXCJcIi5jb25jYXQoZSxcIkJ1dHRvblwiKSksdXQodCxuW1wiXCIuY29uY2F0KGUsXCJCdXR0b25DbGFzc1wiKV0pfWZ1bmN0aW9uIHl0KHQsZSl7dmFyIG49VygpO2lmKG4pe3ZhciBvLGkscixhO289bixcInN0cmluZ1wiPT10eXBlb2YoaT1lLmJhY2tkcm9wKT9vLnN0eWxlLmJhY2tncm91bmQ9aTppfHx1dChbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50LmJvZHldLEZbXCJuby1iYWNrZHJvcFwiXSksIWUuYmFja2Ryb3AmJmUuYWxsb3dPdXRzaWRlQ2xpY2smJkQoJ1wiYWxsb3dPdXRzaWRlQ2xpY2tcIiBwYXJhbWV0ZXIgcmVxdWlyZXMgYGJhY2tkcm9wYCBwYXJhbWV0ZXIgdG8gYmUgc2V0IHRvIGB0cnVlYCcpLHI9biwoYT1lLnBvc2l0aW9uKWluIEY/dXQocixGW2FdKTooRCgnVGhlIFwicG9zaXRpb25cIiBwYXJhbWV0ZXIgaXMgbm90IHZhbGlkLCBkZWZhdWx0aW5nIHRvIFwiY2VudGVyXCInKSx1dChyLEYuY2VudGVyKSksZnVuY3Rpb24odCxlKXtpZihlJiZcInN0cmluZ1wiPT10eXBlb2YgZSl7dmFyIG49XCJncm93LVwiLmNvbmNhdChlKTtuIGluIEYmJnV0KHQsRltuXSl9fShuLGUuZ3JvdyksUihuLGUsXCJjb250YWluZXJcIik7dmFyIGM9ZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3YWwyLXF1ZXVlLXN0ZXBcIik7YyYmKG4uc2V0QXR0cmlidXRlKFwiZGF0YS1xdWV1ZS1zdGVwXCIsYyksZG9jdW1lbnQuYm9keS5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXN3YWwyLXF1ZXVlLXN0ZXBcIikpfX1mdW5jdGlvbiB3dCh0LGUpe3QucGxhY2Vob2xkZXImJiFlLmlucHV0UGxhY2Vob2xkZXJ8fCh0LnBsYWNlaG9sZGVyPWUuaW5wdXRQbGFjZWhvbGRlcil9dmFyIEN0PXtwcm9taXNlOm5ldyBXZWFrTWFwLGlubmVyUGFyYW1zOm5ldyBXZWFrTWFwLGRvbUNhY2hlOm5ldyBXZWFrTWFwfSxrdD1bXCJpbnB1dFwiLFwiZmlsZVwiLFwicmFuZ2VcIixcInNlbGVjdFwiLFwicmFkaW9cIixcImNoZWNrYm94XCIsXCJ0ZXh0YXJlYVwiXSx4dD1mdW5jdGlvbih0KXtpZighU3RbdC5pbnB1dF0pcmV0dXJuIHYoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dCEgRXhwZWN0ZWQgXCJ0ZXh0XCIsIFwiZW1haWxcIiwgXCJwYXNzd29yZFwiLCBcIm51bWJlclwiLCBcInRlbFwiLCBcInNlbGVjdFwiLCBcInJhZGlvXCIsIFwiY2hlY2tib3hcIiwgXCJ0ZXh0YXJlYVwiLCBcImZpbGVcIiBvciBcInVybFwiLCBnb3QgXCInLmNvbmNhdCh0LmlucHV0LCdcIicpKTt2YXIgZT1CdCh0LmlucHV0KSxuPVN0W3QuaW5wdXRdKGUsdCk7RyhuKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7JChuKX0pfSxQdD1mdW5jdGlvbih0LGUpe3ZhciBuPVEoaygpLHQpO2lmKG4pZm9yKHZhciBvIGluIWZ1bmN0aW9uKHQpe2Zvcih2YXIgZT0wO2U8dC5hdHRyaWJ1dGVzLmxlbmd0aDtlKyspe3ZhciBuPXQuYXR0cmlidXRlc1tlXS5uYW1lOy0xPT09W1widHlwZVwiLFwidmFsdWVcIixcInN0eWxlXCJdLmluZGV4T2YobikmJnQucmVtb3ZlQXR0cmlidXRlKG4pfX0obiksZSlcInJhbmdlXCI9PT10JiZcInBsYWNlaG9sZGVyXCI9PT1vfHxuLnNldEF0dHJpYnV0ZShvLGVbb10pfSxBdD1mdW5jdGlvbih0KXt2YXIgZT1CdCh0LmlucHV0KTt0LmN1c3RvbUNsYXNzJiZ1dChlLHQuY3VzdG9tQ2xhc3MuaW5wdXQpfSxCdD1mdW5jdGlvbih0KXt2YXIgZT1GW3RdP0ZbdF06Ri5pbnB1dDtyZXR1cm4gZHQoaygpLGUpfSxTdD17fTtTdC50ZXh0PVN0LmVtYWlsPVN0LnBhc3N3b3JkPVN0Lm51bWJlcj1TdC50ZWw9U3QudXJsPWZ1bmN0aW9uKHQsZSl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGUuaW5wdXRWYWx1ZXx8XCJudW1iZXJcIj09dHlwZW9mIGUuaW5wdXRWYWx1ZT90LnZhbHVlPWUuaW5wdXRWYWx1ZTpnKGUuaW5wdXRWYWx1ZSl8fEQoJ1VuZXhwZWN0ZWQgdHlwZSBvZiBpbnB1dFZhbHVlISBFeHBlY3RlZCBcInN0cmluZ1wiLCBcIm51bWJlclwiIG9yIFwiUHJvbWlzZVwiLCBnb3QgXCInLmNvbmNhdChyKGUuaW5wdXRWYWx1ZSksJ1wiJykpLHd0KHQsZSksdC50eXBlPWUuaW5wdXQsdH0sU3QuZmlsZT1mdW5jdGlvbih0LGUpe3JldHVybiB3dCh0LGUpLHR9LFN0LnJhbmdlPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5xdWVyeVNlbGVjdG9yKFwiaW5wdXRcIiksbz10LnF1ZXJ5U2VsZWN0b3IoXCJvdXRwdXRcIik7cmV0dXJuIG4udmFsdWU9ZS5pbnB1dFZhbHVlLG4udHlwZT1lLmlucHV0LG8udmFsdWU9ZS5pbnB1dFZhbHVlLHR9LFN0LnNlbGVjdD1mdW5jdGlvbih0LGUpe2lmKHQudGV4dENvbnRlbnQ9XCJcIixlLmlucHV0UGxhY2Vob2xkZXIpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7TShuLGUuaW5wdXRQbGFjZWhvbGRlciksbi52YWx1ZT1cIlwiLG4uZGlzYWJsZWQ9ITAsbi5zZWxlY3RlZD0hMCx0LmFwcGVuZENoaWxkKG4pfXJldHVybiB0fSxTdC5yYWRpbz1mdW5jdGlvbih0KXtyZXR1cm4gdC50ZXh0Q29udGVudD1cIlwiLHR9LFN0LmNoZWNrYm94PWZ1bmN0aW9uKHQsZSl7dmFyIG49UShrKCksXCJjaGVja2JveFwiKTtuLnZhbHVlPTEsbi5pZD1GLmNoZWNrYm94LG4uY2hlY2tlZD1Cb29sZWFuKGUuaW5wdXRWYWx1ZSk7dmFyIG89dC5xdWVyeVNlbGVjdG9yKFwic3BhblwiKTtyZXR1cm4gTShvLGUuaW5wdXRQbGFjZWhvbGRlciksdH0sU3QudGV4dGFyZWE9ZnVuY3Rpb24oZSx0KXtpZihlLnZhbHVlPXQuaW5wdXRWYWx1ZSx3dChlLHQpLFwiTXV0YXRpb25PYnNlcnZlclwiaW4gd2luZG93KXt2YXIgbj1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShLKCkpLndpZHRoKSxvPXBhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKEsoKSkucGFkZGluZ0xlZnQpK3BhcnNlSW50KHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKEsoKSkucGFkZGluZ1JpZ2h0KTtuZXcgTXV0YXRpb25PYnNlcnZlcihmdW5jdGlvbigpe3ZhciB0PWUub2Zmc2V0V2lkdGgrbztLKCkuc3R5bGUud2lkdGg9bjx0P1wiXCIuY29uY2F0KHQsXCJweFwiKTpudWxsfSkub2JzZXJ2ZShlLHthdHRyaWJ1dGVzOiEwLGF0dHJpYnV0ZUZpbHRlcjpbXCJzdHlsZVwiXX0pfXJldHVybiBlfTtmdW5jdGlvbiBFdCh0LGUpe3ZhciBuLG8saSxyLGEsYz1rKCkucXVlcnlTZWxlY3RvcihcIiNcIi5jb25jYXQoRi5jb250ZW50KSk7ZS5odG1sPyhhdChlLmh0bWwsYyksRyhjLFwiYmxvY2tcIikpOmUudGV4dD8oYy50ZXh0Q29udGVudD1lLnRleHQsRyhjLFwiYmxvY2tcIikpOnR0KGMpLG49dCxvPWUsaT1rKCkscj1DdC5pbm5lclBhcmFtcy5nZXQobiksYT0hcnx8by5pbnB1dCE9PXIuaW5wdXQsa3QuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgZT1GW3RdLG49ZHQoaSxlKTtQdCh0LG8uaW5wdXRBdHRyaWJ1dGVzKSxuLmNsYXNzTmFtZT1lLGEmJnR0KG4pfSksby5pbnB1dCYmKGEmJnh0KG8pLEF0KG8pKSxSKGsoKSxlLFwiY29udGVudFwiKX1mdW5jdGlvbiBPdCgpe3JldHVybiBXKCkmJlcoKS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXF1ZXVlLXN0ZXBcIil9ZnVuY3Rpb24gVHQodCxzKXt2YXIgdT1QKCk7aWYoIXMucHJvZ3Jlc3NTdGVwc3x8MD09PXMucHJvZ3Jlc3NTdGVwcy5sZW5ndGgpcmV0dXJuIHR0KHUpO0codSksdS50ZXh0Q29udGVudD1cIlwiO3ZhciBsPXBhcnNlSW50KHZvaWQgMD09PXMuY3VycmVudFByb2dyZXNzU3RlcD9PdCgpOnMuY3VycmVudFByb2dyZXNzU3RlcCk7bD49cy5wcm9ncmVzc1N0ZXBzLmxlbmd0aCYmRChcIkludmFsaWQgY3VycmVudFByb2dyZXNzU3RlcCBwYXJhbWV0ZXIsIGl0IHNob3VsZCBiZSBsZXNzIHRoYW4gcHJvZ3Jlc3NTdGVwcy5sZW5ndGggKGN1cnJlbnRQcm9ncmVzc1N0ZXAgbGlrZSBKUyBhcnJheXMgc3RhcnRzIGZyb20gMClcIikscy5wcm9ncmVzc1N0ZXBzLmZvckVhY2goZnVuY3Rpb24odCxlKXt2YXIgbixvLGkscixhPShuPXQsbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIiksdXQobyxGW1wicHJvZ3Jlc3Mtc3RlcFwiXSksTShvLG4pLG8pO2lmKHUuYXBwZW5kQ2hpbGQoYSksZT09PWwmJnV0KGEsRltcImFjdGl2ZS1wcm9ncmVzcy1zdGVwXCJdKSxlIT09cy5wcm9ncmVzc1N0ZXBzLmxlbmd0aC0xKXt2YXIgYz0oaT10LHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpLHV0KHIsRltcInByb2dyZXNzLXN0ZXAtbGluZVwiXSksaS5wcm9ncmVzc1N0ZXBzRGlzdGFuY2UmJihyLnN0eWxlLndpZHRoPWkucHJvZ3Jlc3NTdGVwc0Rpc3RhbmNlKSxyKTt1LmFwcGVuZENoaWxkKGMpfX0pfWZ1bmN0aW9uIEx0KHQsZSl7dmFyIG4sbyxpLHIsYT1PKCk7UihhLGUsXCJoZWFkZXJcIiksVHQoMCxlKSxmdW5jdGlvbih0LGUpe3ZhciBuPUN0LmlubmVyUGFyYW1zLmdldCh0KTtpZihuJiZlLmljb249PT1uLmljb24mJncoKSlSKHcoKSxlLFwiaWNvblwiKTtlbHNlIGlmKGp0KCksZS5pY29uKWlmKC0xIT09T2JqZWN0LmtleXMoeikuaW5kZXhPZihlLmljb24pKXt2YXIgbz15KFwiLlwiLmNvbmNhdChGLmljb24sXCIuXCIpLmNvbmNhdCh6W2UuaWNvbl0pKTtHKG8pLFZ0KG8sZSksTXQoKSxSKG8sZSxcImljb25cIiksdXQobyxlLnNob3dDbGFzcy5pY29uKX1lbHNlIHYoJ1Vua25vd24gaWNvbiEgRXhwZWN0ZWQgXCJzdWNjZXNzXCIsIFwiZXJyb3JcIiwgXCJ3YXJuaW5nXCIsIFwiaW5mb1wiIG9yIFwicXVlc3Rpb25cIiwgZ290IFwiJy5jb25jYXQoZS5pY29uLCdcIicpKX0odCxlKSxmdW5jdGlvbih0KXt2YXIgZT14KCk7aWYoIXQuaW1hZ2VVcmwpcmV0dXJuIHR0KGUpO0coZSksZS5zZXRBdHRyaWJ1dGUoXCJzcmNcIix0LmltYWdlVXJsKSxlLnNldEF0dHJpYnV0ZShcImFsdFwiLHQuaW1hZ2VBbHQpLFgoZSxcIndpZHRoXCIsdC5pbWFnZVdpZHRoKSxYKGUsXCJoZWlnaHRcIix0LmltYWdlSGVpZ2h0KSxlLmNsYXNzTmFtZT1GLmltYWdlLFIoZSx0LFwiaW1hZ2VcIil9KGUpLG49ZSxvPUMoKSxldChvLG4udGl0bGV8fG4udGl0bGVUZXh0KSxuLnRpdGxlJiZhdChuLnRpdGxlLG8pLG4udGl0bGVUZXh0JiYoby5pbm5lclRleHQ9bi50aXRsZVRleHQpLFIobyxuLFwidGl0bGVcIiksaT1lLHI9cSgpLE0ocixpLmNsb3NlQnV0dG9uSHRtbCksUihyLGksXCJjbG9zZUJ1dHRvblwiKSxldChyLGkuc2hvd0Nsb3NlQnV0dG9uKSxyLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixpLmNsb3NlQnV0dG9uQXJpYUxhYmVsKX1mdW5jdGlvbiBxdCh0LGUpe3ZhciBuLG8saSxyO249ZSxvPUsoKSxYKG8sXCJ3aWR0aFwiLG4ud2lkdGgpLFgobyxcInBhZGRpbmdcIixuLnBhZGRpbmcpLG4uYmFja2dyb3VuZCYmKG8uc3R5bGUuYmFja2dyb3VuZD1uLmJhY2tncm91bmQpLER0KG8sbikseXQoMCxlKSxMdCh0LGUpLEV0KHQsZSksY3QoMCxlKSxpPWUscj1UKCksZXQocixpLmZvb3RlciksaS5mb290ZXImJmF0KGkuZm9vdGVyLHIpLFIocixpLFwiZm9vdGVyXCIpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25SZW5kZXImJmUub25SZW5kZXIoSygpKX1mdW5jdGlvbiBJdCgpe3JldHVybiBCKCkmJkIoKS5jbGljaygpfXZhciBqdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1uKCksZT0wO2U8dC5sZW5ndGg7ZSsrKXR0KHRbZV0pfSxNdD1mdW5jdGlvbigpe2Zvcih2YXIgdD1LKCksZT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS5nZXRQcm9wZXJ0eVZhbHVlKFwiYmFja2dyb3VuZC1jb2xvclwiKSxuPXQucXVlcnlTZWxlY3RvckFsbChcIltjbGFzc149c3dhbDItc3VjY2Vzcy1jaXJjdWxhci1saW5lXSwgLnN3YWwyLXN1Y2Nlc3MtZml4XCIpLG89MDtvPG4ubGVuZ3RoO28rKyluW29dLnN0eWxlLmJhY2tncm91bmRDb2xvcj1lfSxWdD1mdW5jdGlvbih0LGUpe2lmKHQudGV4dENvbnRlbnQ9XCJcIixlLmljb25IdG1sKU0odCxSdChlLmljb25IdG1sKSk7ZWxzZSBpZihcInN1Y2Nlc3NcIj09PWUuaWNvbilNKHQsJ1xcbiAgICAgIDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtbGVmdFwiPjwvZGl2PlxcbiAgICAgIDxzcGFuIGNsYXNzPVwic3dhbDItc3VjY2Vzcy1saW5lLXRpcFwiPjwvc3Bhbj4gPHNwYW4gY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWxpbmUtbG9uZ1wiPjwvc3Bhbj5cXG4gICAgICA8ZGl2IGNsYXNzPVwic3dhbDItc3VjY2Vzcy1yaW5nXCI+PC9kaXY+IDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWZpeFwiPjwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJzd2FsMi1zdWNjZXNzLWNpcmN1bGFyLWxpbmUtcmlnaHRcIj48L2Rpdj5cXG4gICAgJyk7ZWxzZSBpZihcImVycm9yXCI9PT1lLmljb24pTSh0LCdcXG4gICAgICA8c3BhbiBjbGFzcz1cInN3YWwyLXgtbWFya1wiPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzd2FsMi14LW1hcmstbGluZS1sZWZ0XCI+PC9zcGFuPlxcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJzd2FsMi14LW1hcmstbGluZS1yaWdodFwiPjwvc3Bhbj5cXG4gICAgICA8L3NwYW4+XFxuICAgICcpO2Vsc2V7TSh0LFJ0KHtxdWVzdGlvbjpcIj9cIix3YXJuaW5nOlwiIVwiLGluZm86XCJpXCJ9W2UuaWNvbl0pKX19LFJ0PWZ1bmN0aW9uKHQpe3JldHVybic8ZGl2IGNsYXNzPVwiJy5jb25jYXQoRltcImljb24tY29udGVudFwiXSwnXCI+JykuY29uY2F0KHQsXCI8L2Rpdj5cIil9LEh0PVtdLER0PWZ1bmN0aW9uKHQsZSl7dC5jbGFzc05hbWU9XCJcIi5jb25jYXQoRi5wb3B1cCxcIiBcIikuY29uY2F0KHB0KHQpP2Uuc2hvd0NsYXNzLnBvcHVwOlwiXCIpLGUudG9hc3Q/KHV0KFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZG9jdW1lbnQuYm9keV0sRltcInRvYXN0LXNob3duXCJdKSx1dCh0LEYudG9hc3QpKTp1dCh0LEYubW9kYWwpLFIodCxlLFwicG9wdXBcIiksXCJzdHJpbmdcIj09dHlwZW9mIGUuY3VzdG9tQ2xhc3MmJnV0KHQsZS5jdXN0b21DbGFzcyksZS5pY29uJiZ1dCh0LEZbXCJpY29uLVwiLmNvbmNhdChlLmljb24pXSl9O2Z1bmN0aW9uIE50KCl7dmFyIHQ9SygpO3R8fEdlLmZpcmUoKSx0PUsoKTt2YXIgZT1FKCksbj1CKCk7RyhlKSxHKG4sXCJpbmxpbmUtYmxvY2tcIiksdXQoW3QsZV0sRi5sb2FkaW5nKSxuLmRpc2FibGVkPSEwLHQuc2V0QXR0cmlidXRlKFwiZGF0YS1sb2FkaW5nXCIsITApLHQuc2V0QXR0cmlidXRlKFwiYXJpYS1idXN5XCIsITApLHQuZm9jdXMoKX1mdW5jdGlvbiBVdCgpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbih0KXt2YXIgZT13aW5kb3cuc2Nyb2xsWCxuPXdpbmRvdy5zY3JvbGxZO0t0LnJlc3RvcmVGb2N1c1RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe0t0LnByZXZpb3VzQWN0aXZlRWxlbWVudCYmS3QucHJldmlvdXNBY3RpdmVFbGVtZW50LmZvY3VzPyhLdC5wcmV2aW91c0FjdGl2ZUVsZW1lbnQuZm9jdXMoKSxLdC5wcmV2aW91c0FjdGl2ZUVsZW1lbnQ9bnVsbCk6ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5mb2N1cygpLHQoKX0sMTAwKSx2b2lkIDAhPT1lJiZ2b2lkIDAhPT1uJiZ3aW5kb3cuc2Nyb2xsVG8oZSxuKX0pfWZ1bmN0aW9uIF90KCl7aWYoS3QudGltZW91dClyZXR1cm4gZnVuY3Rpb24oKXt2YXIgdD1MKCksZT1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS53aWR0aCk7dC5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcInRyYW5zaXRpb25cIiksdC5zdHlsZS53aWR0aD1cIjEwMCVcIjt2YXIgbj1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0KS53aWR0aCksbz1wYXJzZUludChlL24qMTAwKTt0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwidHJhbnNpdGlvblwiKSx0LnN0eWxlLndpZHRoPVwiXCIuY29uY2F0KG8sXCIlXCIpfSgpLEt0LnRpbWVvdXQuc3RvcCgpfWZ1bmN0aW9uIEZ0KCl7aWYoS3QudGltZW91dCl7dmFyIHQ9S3QudGltZW91dC5zdGFydCgpO3JldHVybiBvdCh0KSx0fX1mdW5jdGlvbiB6dCh0KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKFl0LHQpfWZ1bmN0aW9uIFd0KHQpe3JldHVybiBRdFt0XX12YXIgS3Q9e30sWXQ9e3RpdGxlOlwiXCIsdGl0bGVUZXh0OlwiXCIsdGV4dDpcIlwiLGh0bWw6XCJcIixmb290ZXI6XCJcIixpY29uOnZvaWQgMCxpY29uSHRtbDp2b2lkIDAsdG9hc3Q6ITEsYW5pbWF0aW9uOiEwLHNob3dDbGFzczp7cG9wdXA6XCJzd2FsMi1zaG93XCIsYmFja2Ryb3A6XCJzd2FsMi1iYWNrZHJvcC1zaG93XCIsaWNvbjpcInN3YWwyLWljb24tc2hvd1wifSxoaWRlQ2xhc3M6e3BvcHVwOlwic3dhbDItaGlkZVwiLGJhY2tkcm9wOlwic3dhbDItYmFja2Ryb3AtaGlkZVwiLGljb246XCJzd2FsMi1pY29uLWhpZGVcIn0sY3VzdG9tQ2xhc3M6dm9pZCAwLHRhcmdldDpcImJvZHlcIixiYWNrZHJvcDohMCxoZWlnaHRBdXRvOiEwLGFsbG93T3V0c2lkZUNsaWNrOiEwLGFsbG93RXNjYXBlS2V5OiEwLGFsbG93RW50ZXJLZXk6ITAsc3RvcEtleWRvd25Qcm9wYWdhdGlvbjohMCxrZXlkb3duTGlzdGVuZXJDYXB0dXJlOiExLHNob3dDb25maXJtQnV0dG9uOiEwLHNob3dDYW5jZWxCdXR0b246ITEscHJlQ29uZmlybTp2b2lkIDAsY29uZmlybUJ1dHRvblRleHQ6XCJPS1wiLGNvbmZpcm1CdXR0b25BcmlhTGFiZWw6XCJcIixjb25maXJtQnV0dG9uQ29sb3I6dm9pZCAwLGNhbmNlbEJ1dHRvblRleHQ6XCJDYW5jZWxcIixjYW5jZWxCdXR0b25BcmlhTGFiZWw6XCJcIixjYW5jZWxCdXR0b25Db2xvcjp2b2lkIDAsYnV0dG9uc1N0eWxpbmc6ITAscmV2ZXJzZUJ1dHRvbnM6ITEsZm9jdXNDb25maXJtOiEwLGZvY3VzQ2FuY2VsOiExLHNob3dDbG9zZUJ1dHRvbjohMSxjbG9zZUJ1dHRvbkh0bWw6XCImdGltZXM7XCIsY2xvc2VCdXR0b25BcmlhTGFiZWw6XCJDbG9zZSB0aGlzIGRpYWxvZ1wiLHNob3dMb2FkZXJPbkNvbmZpcm06ITEsaW1hZ2VVcmw6dm9pZCAwLGltYWdlV2lkdGg6dm9pZCAwLGltYWdlSGVpZ2h0OnZvaWQgMCxpbWFnZUFsdDpcIlwiLHRpbWVyOnZvaWQgMCx0aW1lclByb2dyZXNzQmFyOiExLHdpZHRoOnZvaWQgMCxwYWRkaW5nOnZvaWQgMCxiYWNrZ3JvdW5kOnZvaWQgMCxpbnB1dDp2b2lkIDAsaW5wdXRQbGFjZWhvbGRlcjpcIlwiLGlucHV0VmFsdWU6XCJcIixpbnB1dE9wdGlvbnM6e30saW5wdXRBdXRvVHJpbTohMCxpbnB1dEF0dHJpYnV0ZXM6e30saW5wdXRWYWxpZGF0b3I6dm9pZCAwLHZhbGlkYXRpb25NZXNzYWdlOnZvaWQgMCxncm93OiExLHBvc2l0aW9uOlwiY2VudGVyXCIscHJvZ3Jlc3NTdGVwczpbXSxjdXJyZW50UHJvZ3Jlc3NTdGVwOnZvaWQgMCxwcm9ncmVzc1N0ZXBzRGlzdGFuY2U6dm9pZCAwLG9uQmVmb3JlT3Blbjp2b2lkIDAsb25PcGVuOnZvaWQgMCxvblJlbmRlcjp2b2lkIDAsb25DbG9zZTp2b2lkIDAsb25BZnRlckNsb3NlOnZvaWQgMCxvbkRlc3Ryb3k6dm9pZCAwLHNjcm9sbGJhclBhZGRpbmc6ITB9LFp0PVtcInRpdGxlXCIsXCJ0aXRsZVRleHRcIixcInRleHRcIixcImh0bWxcIixcImljb25cIixcImhpZGVDbGFzc1wiLFwiY3VzdG9tQ2xhc3NcIixcImFsbG93T3V0c2lkZUNsaWNrXCIsXCJhbGxvd0VzY2FwZUtleVwiLFwic2hvd0NvbmZpcm1CdXR0b25cIixcInNob3dDYW5jZWxCdXR0b25cIixcImNvbmZpcm1CdXR0b25UZXh0XCIsXCJjb25maXJtQnV0dG9uQXJpYUxhYmVsXCIsXCJjb25maXJtQnV0dG9uQ29sb3JcIixcImNhbmNlbEJ1dHRvblRleHRcIixcImNhbmNlbEJ1dHRvbkFyaWFMYWJlbFwiLFwiY2FuY2VsQnV0dG9uQ29sb3JcIixcImJ1dHRvbnNTdHlsaW5nXCIsXCJyZXZlcnNlQnV0dG9uc1wiLFwiaW1hZ2VVcmxcIixcImltYWdlV2lkdGhcIixcImltYWdlSGVpZ2h0XCIsXCJpbWFnZUFsdFwiLFwicHJvZ3Jlc3NTdGVwc1wiLFwiY3VycmVudFByb2dyZXNzU3RlcFwiXSxRdD17YW5pbWF0aW9uOidzaG93Q2xhc3NcIiBhbmQgXCJoaWRlQ2xhc3MnfSwkdD1bXCJhbGxvd091dHNpZGVDbGlja1wiLFwiYWxsb3dFbnRlcktleVwiLFwiYmFja2Ryb3BcIixcImZvY3VzQ29uZmlybVwiLFwiZm9jdXNDYW5jZWxcIixcImhlaWdodEF1dG9cIixcImtleWRvd25MaXN0ZW5lckNhcHR1cmVcIl0sSnQ9T2JqZWN0LmZyZWV6ZSh7aXNWYWxpZFBhcmFtZXRlcjp6dCxpc1VwZGF0YWJsZVBhcmFtZXRlcjpmdW5jdGlvbih0KXtyZXR1cm4tMSE9PVp0LmluZGV4T2YodCl9LGlzRGVwcmVjYXRlZFBhcmFtZXRlcjpXdCxhcmdzVG9QYXJhbXM6ZnVuY3Rpb24obyl7dmFyIGk9e307cmV0dXJuXCJvYmplY3RcIiE9PXIob1swXSl8fGIob1swXSk/W1widGl0bGVcIixcImh0bWxcIixcImljb25cIl0uZm9yRWFjaChmdW5jdGlvbih0LGUpe3ZhciBuPW9bZV07XCJzdHJpbmdcIj09dHlwZW9mIG58fGIobik/aVt0XT1uOnZvaWQgMCE9PW4mJnYoXCJVbmV4cGVjdGVkIHR5cGUgb2YgXCIuY29uY2F0KHQsJyEgRXhwZWN0ZWQgXCJzdHJpbmdcIiBvciBcIkVsZW1lbnRcIiwgZ290ICcpLmNvbmNhdChyKG4pKSl9KTpjKGksb1swXSksaX0saXNWaXNpYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHB0KEsoKSl9LGNsaWNrQ29uZmlybTpJdCxjbGlja0NhbmNlbDpmdW5jdGlvbigpe3JldHVybiBTKCkmJlMoKS5jbGljaygpfSxnZXRDb250YWluZXI6VyxnZXRQb3B1cDpLLGdldFRpdGxlOkMsZ2V0Q29udGVudDprLGdldEh0bWxDb250YWluZXI6ZnVuY3Rpb24oKXtyZXR1cm4gZShGW1wiaHRtbC1jb250YWluZXJcIl0pfSxnZXRJbWFnZTp4LGdldEljb246dyxnZXRJY29uczpuLGdldENsb3NlQnV0dG9uOnEsZ2V0QWN0aW9uczpFLGdldENvbmZpcm1CdXR0b246QixnZXRDYW5jZWxCdXR0b246UyxnZXRIZWFkZXI6TyxnZXRGb290ZXI6VCxnZXRUaW1lclByb2dyZXNzQmFyOkwsZ2V0Rm9jdXNhYmxlRWxlbWVudHM6SSxnZXRWYWxpZGF0aW9uTWVzc2FnZTpBLGlzTG9hZGluZzpmdW5jdGlvbigpe3JldHVybiBLKCkuaGFzQXR0cmlidXRlKFwiZGF0YS1sb2FkaW5nXCIpfSxmaXJlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07cmV0dXJuIGwodGhpcyxlKX0sbWl4aW46ZnVuY3Rpb24obil7cmV0dXJuIGZ1bmN0aW9uKHQpe2Z1bmN0aW9uIGUoKXtyZXR1cm4gbyh0aGlzLGUpLGQodGhpcyxzKGUpLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9cmV0dXJuIGZ1bmN0aW9uKHQsZSl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZSYmbnVsbCE9PWUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpO3QucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoZSYmZS5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTp0LHdyaXRhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH19KSxlJiZ1KHQsZSl9KGUsdCksYShlLFt7a2V5OlwiX21haW5cIix2YWx1ZTpmdW5jdGlvbih0KXtyZXR1cm4gcChzKGUucHJvdG90eXBlKSxcIl9tYWluXCIsdGhpcykuY2FsbCh0aGlzLGMoe30sbix0KSl9fV0pLGV9KHRoaXMpfSxxdWV1ZTpmdW5jdGlvbih0KXt2YXIgcj10aGlzO0h0PXQ7ZnVuY3Rpb24gYSh0LGUpe0h0PVtdLHQoZSl9dmFyIGM9W107cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGkpeyFmdW5jdGlvbiBlKG4sbyl7bjxIdC5sZW5ndGg/KGRvY3VtZW50LmJvZHkuc2V0QXR0cmlidXRlKFwiZGF0YS1zd2FsMi1xdWV1ZS1zdGVwXCIsbiksci5maXJlKEh0W25dKS50aGVuKGZ1bmN0aW9uKHQpe3ZvaWQgMCE9PXQudmFsdWU/KGMucHVzaCh0LnZhbHVlKSxlKG4rMSxvKSk6YShpLHtkaXNtaXNzOnQuZGlzbWlzc30pfSkpOmEoaSx7dmFsdWU6Y30pfSgwKX0pfSxnZXRRdWV1ZVN0ZXA6T3QsaW5zZXJ0UXVldWVTdGVwOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIGUmJmU8SHQubGVuZ3RoP0h0LnNwbGljZShlLDAsdCk6SHQucHVzaCh0KX0sZGVsZXRlUXVldWVTdGVwOmZ1bmN0aW9uKHQpe3ZvaWQgMCE9PUh0W3RdJiZIdC5zcGxpY2UodCwxKX0sc2hvd0xvYWRpbmc6TnQsZW5hYmxlTG9hZGluZzpOdCxnZXRUaW1lckxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gS3QudGltZW91dCYmS3QudGltZW91dC5nZXRUaW1lckxlZnQoKX0sc3RvcFRpbWVyOl90LHJlc3VtZVRpbWVyOkZ0LHRvZ2dsZVRpbWVyOmZ1bmN0aW9uKCl7dmFyIHQ9S3QudGltZW91dDtyZXR1cm4gdCYmKHQucnVubmluZz9fdDpGdCkoKX0saW5jcmVhc2VUaW1lcjpmdW5jdGlvbih0KXtpZihLdC50aW1lb3V0KXt2YXIgZT1LdC50aW1lb3V0LmluY3JlYXNlKHQpO3JldHVybiBvdChlLCEwKSxlfX0saXNUaW1lclJ1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gS3QudGltZW91dCYmS3QudGltZW91dC5pc1J1bm5pbmcoKX19KTtmdW5jdGlvbiBYdCgpe3ZhciB0PUN0LmlubmVyUGFyYW1zLmdldCh0aGlzKTtpZih0KXt2YXIgZT1DdC5kb21DYWNoZS5nZXQodGhpcyk7dC5zaG93Q29uZmlybUJ1dHRvbnx8KHR0KGUuY29uZmlybUJ1dHRvbiksdC5zaG93Q2FuY2VsQnV0dG9ufHx0dChlLmFjdGlvbnMpKSxsdChbZS5wb3B1cCxlLmFjdGlvbnNdLEYubG9hZGluZyksZS5wb3B1cC5yZW1vdmVBdHRyaWJ1dGUoXCJhcmlhLWJ1c3lcIiksZS5wb3B1cC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWxvYWRpbmdcIiksZS5jb25maXJtQnV0dG9uLmRpc2FibGVkPSExLGUuY2FuY2VsQnV0dG9uLmRpc2FibGVkPSExfX1mdW5jdGlvbiBHdCgpe251bGw9PT1aLnByZXZpb3VzQm9keVBhZGRpbmcmJmRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0PndpbmRvdy5pbm5lckhlaWdodCYmKFoucHJldmlvdXNCb2R5UGFkZGluZz1wYXJzZUludCh3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5ib2R5KS5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy1yaWdodFwiKSksZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9XCJcIi5jb25jYXQoWi5wcmV2aW91c0JvZHlQYWRkaW5nK2Z1bmN0aW9uKCl7dmFyIHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LmNsYXNzTmFtZT1GW1wic2Nyb2xsYmFyLW1lYXN1cmVcIl0sZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KTt2YXIgZT10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoLXQuY2xpZW50V2lkdGg7cmV0dXJuIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQodCksZX0oKSxcInB4XCIpKX1mdW5jdGlvbiB0ZSgpe3JldHVybiEhd2luZG93Lk1TSW5wdXRNZXRob2RDb250ZXh0JiYhIWRvY3VtZW50LmRvY3VtZW50TW9kZX1mdW5jdGlvbiBlZSgpe3ZhciB0PVcoKSxlPUsoKTt0LnN0eWxlLnJlbW92ZVByb3BlcnR5KFwiYWxpZ24taXRlbXNcIiksZS5vZmZzZXRUb3A8MCYmKHQuc3R5bGUuYWxpZ25JdGVtcz1cImZsZXgtc3RhcnRcIil9dmFyIG5lPWZ1bmN0aW9uKCl7dmFyIG4sbz1XKCk7by5vbnRvdWNoc3RhcnQ9ZnVuY3Rpb24odCl7dmFyIGU7bj10LnRhcmdldD09PW98fCEoKGU9bykuc2Nyb2xsSGVpZ2h0PmUuY2xpZW50SGVpZ2h0KSYmXCJJTlBVVFwiIT09dC50YXJnZXQudGFnTmFtZX0sby5vbnRvdWNobW92ZT1mdW5jdGlvbih0KXtuJiYodC5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcFByb3BhZ2F0aW9uKCkpfX0sb2U9e3N3YWxQcm9taXNlUmVzb2x2ZTpuZXcgV2Vha01hcH07ZnVuY3Rpb24gaWUodCxlLG4sbyl7bj9jZSh0LG8pOihVdCgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gY2UodCxvKX0pLEt0LmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIixLdC5rZXlkb3duSGFuZGxlcix7Y2FwdHVyZTpLdC5rZXlkb3duTGlzdGVuZXJDYXB0dXJlfSksS3Qua2V5ZG93bkhhbmRsZXJBZGRlZD0hMSksZS5wYXJlbnROb2RlJiYhZG9jdW1lbnQuYm9keS5nZXRBdHRyaWJ1dGUoXCJkYXRhLXN3YWwyLXF1ZXVlLXN0ZXBcIikmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKSxqKCkmJihudWxsIT09Wi5wcmV2aW91c0JvZHlQYWRkaW5nJiYoZG9jdW1lbnQuYm9keS5zdHlsZS5wYWRkaW5nUmlnaHQ9XCJcIi5jb25jYXQoWi5wcmV2aW91c0JvZHlQYWRkaW5nLFwicHhcIiksWi5wcmV2aW91c0JvZHlQYWRkaW5nPW51bGwpLGZ1bmN0aW9uKCl7aWYoVihkb2N1bWVudC5ib2R5LEYuaW9zZml4KSl7dmFyIHQ9cGFyc2VJbnQoZG9jdW1lbnQuYm9keS5zdHlsZS50b3AsMTApO2x0KGRvY3VtZW50LmJvZHksRi5pb3NmaXgpLGRvY3VtZW50LmJvZHkuc3R5bGUudG9wPVwiXCIsZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A9LTEqdH19KCksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdGUoKSYmd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIixlZSksbShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3QuaGFzQXR0cmlidXRlKFwiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlblwiKT8odC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLHQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wcmV2aW91cy1hcmlhLWhpZGRlblwiKSksdC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLXByZXZpb3VzLWFyaWEtaGlkZGVuXCIpKTp0LnJlbW92ZUF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpfSkpLGx0KFtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsZG9jdW1lbnQuYm9keV0sW0Yuc2hvd24sRltcImhlaWdodC1hdXRvXCJdLEZbXCJuby1iYWNrZHJvcFwiXSxGW1widG9hc3Qtc2hvd25cIl0sRltcInRvYXN0LWNvbHVtblwiXV0pfWZ1bmN0aW9uIHJlKHQpe3ZhciBlPUsoKTtpZihlKXt2YXIgbj1DdC5pbm5lclBhcmFtcy5nZXQodGhpcyk7aWYobiYmIVYoZSxuLmhpZGVDbGFzcy5wb3B1cCkpe3ZhciBvPW9lLnN3YWxQcm9taXNlUmVzb2x2ZS5nZXQodGhpcyk7bHQoZSxuLnNob3dDbGFzcy5wb3B1cCksdXQoZSxuLmhpZGVDbGFzcy5wb3B1cCk7dmFyIGk9VygpO2x0KGksbi5zaG93Q2xhc3MuYmFja2Ryb3ApLHV0KGksbi5oaWRlQ2xhc3MuYmFja2Ryb3ApLGZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1XKCksaT12dCYmbnQoZSkscj1uLm9uQ2xvc2UsYT1uLm9uQWZ0ZXJDbG9zZTtpZihyIT09bnVsbCYmdHlwZW9mIHI9PT1cImZ1bmN0aW9uXCIpe3IoZSl9aWYoaSl7YWUodCxlLG8sYSl9ZWxzZXtpZSh0LG8sWSgpLGEpfX0odGhpcyxlLG4pLG8odHx8e30pfX19dmFyIGFlPWZ1bmN0aW9uKHQsZSxuLG8pe0t0LnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjaz1pZS5iaW5kKG51bGwsdCxuLFkoKSxvKSxlLmFkZEV2ZW50TGlzdGVuZXIodnQsZnVuY3Rpb24odCl7dC50YXJnZXQ9PT1lJiYoS3Quc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKCksZGVsZXRlIEt0LnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayl9KX0sY2U9ZnVuY3Rpb24odCxlKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgZSYmZSgpLHQuX2Rlc3Ryb3koKX0pfTtmdW5jdGlvbiBzZSh0LGUsbil7dmFyIG89Q3QuZG9tQ2FjaGUuZ2V0KHQpO2UuZm9yRWFjaChmdW5jdGlvbih0KXtvW3RdLmRpc2FibGVkPW59KX1mdW5jdGlvbiB1ZSh0LGUpe2lmKCF0KXJldHVybiExO2lmKFwicmFkaW9cIj09PXQudHlwZSlmb3IodmFyIG49dC5wYXJlbnROb2RlLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpLG89MDtvPG4ubGVuZ3RoO28rKyluW29dLmRpc2FibGVkPWU7ZWxzZSB0LmRpc2FibGVkPWV9dmFyIGxlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbih0LGUpe28odGhpcyxuKSx0aGlzLmNhbGxiYWNrPXQsdGhpcy5yZW1haW5pbmc9ZSx0aGlzLnJ1bm5pbmc9ITEsdGhpcy5zdGFydCgpfXJldHVybiBhKG4sW3trZXk6XCJzdGFydFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVubmluZ3x8KHRoaXMucnVubmluZz0hMCx0aGlzLnN0YXJ0ZWQ9bmV3IERhdGUsdGhpcy5pZD1zZXRUaW1lb3V0KHRoaXMuY2FsbGJhY2ssdGhpcy5yZW1haW5pbmcpKSx0aGlzLnJlbWFpbmluZ319LHtrZXk6XCJzdG9wXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydW5uaW5nJiYodGhpcy5ydW5uaW5nPSExLGNsZWFyVGltZW91dCh0aGlzLmlkKSx0aGlzLnJlbWFpbmluZy09bmV3IERhdGUtdGhpcy5zdGFydGVkKSx0aGlzLnJlbWFpbmluZ319LHtrZXk6XCJpbmNyZWFzZVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMucnVubmluZztyZXR1cm4gZSYmdGhpcy5zdG9wKCksdGhpcy5yZW1haW5pbmcrPXQsZSYmdGhpcy5zdGFydCgpLHRoaXMucmVtYWluaW5nfX0se2tleTpcImdldFRpbWVyTGVmdFwiLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVubmluZyYmKHRoaXMuc3RvcCgpLHRoaXMuc3RhcnQoKSksdGhpcy5yZW1haW5pbmd9fSx7a2V5OlwiaXNSdW5uaW5nXCIsdmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ydW5uaW5nfX1dKSxufSgpLGRlPXtlbWFpbDpmdW5jdGlvbih0LGUpe3JldHVybi9eW2EtekEtWjAtOS4rXy1dK0BbYS16QS1aMC05Li1dK1xcLlthLXpBLVowLTktXXsyLDI0fSQvLnRlc3QodCk/UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKGV8fFwiSW52YWxpZCBlbWFpbCBhZGRyZXNzXCIpfSx1cmw6ZnVuY3Rpb24odCxlKXtyZXR1cm4vXmh0dHBzPzpcXC9cXC8od3d3XFwuKT9bLWEtekEtWjAtOUA6JS5fK34jPV17MiwyNTZ9XFwuW2Etel17Miw2M31cXGIoWy1hLXpBLVowLTlAOiVfKy5+Iz8mLz1dKikkLy50ZXN0KHQpP1Byb21pc2UucmVzb2x2ZSgpOlByb21pc2UucmVzb2x2ZShlfHxcIkludmFsaWQgVVJMXCIpfX07ZnVuY3Rpb24gcGUodCl7dmFyIGUsbjsoZT10KS5pbnB1dFZhbGlkYXRvcnx8T2JqZWN0LmtleXMoZGUpLmZvckVhY2goZnVuY3Rpb24odCl7ZS5pbnB1dD09PXQmJihlLmlucHV0VmFsaWRhdG9yPWRlW3RdKX0pLHQuc2hvd0xvYWRlck9uQ29uZmlybSYmIXQucHJlQ29uZmlybSYmRChcInNob3dMb2FkZXJPbkNvbmZpcm0gaXMgc2V0IHRvIHRydWUsIGJ1dCBwcmVDb25maXJtIGlzIG5vdCBkZWZpbmVkLlxcbnNob3dMb2FkZXJPbkNvbmZpcm0gc2hvdWxkIGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBwcmVDb25maXJtLCBzZWUgdXNhZ2UgZXhhbXBsZTpcXG5odHRwczovL3N3ZWV0YWxlcnQyLmdpdGh1Yi5pby8jYWpheC1yZXF1ZXN0XCIpLHQuYW5pbWF0aW9uPVUodC5hbmltYXRpb24pLChuPXQpLnRhcmdldCYmKFwic3RyaW5nXCIhPXR5cGVvZiBuLnRhcmdldHx8ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihuLnRhcmdldCkpJiYoXCJzdHJpbmdcIj09dHlwZW9mIG4udGFyZ2V0fHxuLnRhcmdldC5hcHBlbmRDaGlsZCl8fChEKCdUYXJnZXQgcGFyYW1ldGVyIGlzIG5vdCB2YWxpZCwgZGVmYXVsdGluZyB0byBcImJvZHlcIicpLG4udGFyZ2V0PVwiYm9keVwiKSxcInN0cmluZ1wiPT10eXBlb2YgdC50aXRsZSYmKHQudGl0bGU9dC50aXRsZS5zcGxpdChcIlxcblwiKS5qb2luKFwiPGJyIC8+XCIpKSxtdCh0KX1mdW5jdGlvbiBmZSh0KXt2YXIgZT1XKCksbj1LKCk7XCJmdW5jdGlvblwiPT10eXBlb2YgdC5vbkJlZm9yZU9wZW4mJnQub25CZWZvcmVPcGVuKG4pLFBlKGUsbix0KSxrZShlLG4pLGooKSYmeGUoZSx0LnNjcm9sbGJhclBhZGRpbmcpLFkoKXx8S3QucHJldmlvdXNBY3RpdmVFbGVtZW50fHwoS3QucHJldmlvdXNBY3RpdmVFbGVtZW50PWRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHQub25PcGVuJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIHQub25PcGVuKG4pfSksbHQoZSxGW1wibm8tdHJhbnNpdGlvblwiXSl9ZnVuY3Rpb24gbWUodCl7dmFyIGU9SygpO2lmKHQudGFyZ2V0PT09ZSl7dmFyIG49VygpO2UucmVtb3ZlRXZlbnRMaXN0ZW5lcih2dCxtZSksbi5zdHlsZS5vdmVyZmxvd1k9XCJhdXRvXCJ9fWZ1bmN0aW9uIGhlKHQsZSl7XCJzZWxlY3RcIj09PWUuaW5wdXR8fFwicmFkaW9cIj09PWUuaW5wdXQ/RWUodCxlKTotMSE9PVtcInRleHRcIixcImVtYWlsXCIsXCJudW1iZXJcIixcInRlbFwiLFwidGV4dGFyZWFcIl0uaW5kZXhPZihlLmlucHV0KSYmZyhlLmlucHV0VmFsdWUpJiZPZSh0LGUpfWZ1bmN0aW9uIGdlKHQsZSl7dC5kaXNhYmxlQnV0dG9ucygpLGUuaW5wdXQ/cWUodCxlKTpJZSh0LGUsITApfWZ1bmN0aW9uIHZlKHQsZSl7dC5kaXNhYmxlQnV0dG9ucygpLGUoXy5jYW5jZWwpfWZ1bmN0aW9uIGJlKHQsZSl7dC5jbG9zZVBvcHVwKHt2YWx1ZTplfSl9ZnVuY3Rpb24geWUoZSx0LG4sbyl7dC5rZXlkb3duVGFyZ2V0JiZ0LmtleWRvd25IYW5kbGVyQWRkZWQmJih0LmtleWRvd25UYXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0LmtleWRvd25IYW5kbGVyLHtjYXB0dXJlOnQua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZX0pLHQua2V5ZG93bkhhbmRsZXJBZGRlZD0hMSksbi50b2FzdHx8KHQua2V5ZG93bkhhbmRsZXI9ZnVuY3Rpb24odCl7cmV0dXJuIFZlKGUsdCxvKX0sdC5rZXlkb3duVGFyZ2V0PW4ua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZT93aW5kb3c6SygpLHQua2V5ZG93bkxpc3RlbmVyQ2FwdHVyZT1uLmtleWRvd25MaXN0ZW5lckNhcHR1cmUsdC5rZXlkb3duVGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsdC5rZXlkb3duSGFuZGxlcix7Y2FwdHVyZTp0LmtleWRvd25MaXN0ZW5lckNhcHR1cmV9KSx0LmtleWRvd25IYW5kbGVyQWRkZWQ9ITApfWZ1bmN0aW9uIHdlKHQsZSxuKXt2YXIgbz1JKCksaT0wO2lmKGk8by5sZW5ndGgpcmV0dXJuKGUrPW4pPT09by5sZW5ndGg/ZT0wOi0xPT09ZSYmKGU9by5sZW5ndGgtMSksb1tlXS5mb2N1cygpO0soKS5mb2N1cygpfWZ1bmN0aW9uIENlKHQsZSxuKXtDdC5pbm5lclBhcmFtcy5nZXQodCkudG9hc3Q/VWUodCxlLG4pOihGZShlKSx6ZShlKSxXZSh0LGUsbikpfXZhciBrZT1mdW5jdGlvbih0LGUpe3Z0JiZudChlKT8odC5zdHlsZS5vdmVyZmxvd1k9XCJoaWRkZW5cIixlLmFkZEV2ZW50TGlzdGVuZXIodnQsbWUpKTp0LnN0eWxlLm92ZXJmbG93WT1cImF1dG9cIn0seGU9ZnVuY3Rpb24odCxlKXshZnVuY3Rpb24oKXtpZigoL2lQYWR8aVBob25lfGlQb2QvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJiF3aW5kb3cuTVNTdHJlYW18fFwiTWFjSW50ZWxcIj09PW5hdmlnYXRvci5wbGF0Zm9ybSYmMTxuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMpJiYhVihkb2N1bWVudC5ib2R5LEYuaW9zZml4KSl7dmFyIHQ9ZG9jdW1lbnQuYm9keS5zY3JvbGxUb3A7ZG9jdW1lbnQuYm9keS5zdHlsZS50b3A9XCJcIi5jb25jYXQoLTEqdCxcInB4XCIpLHV0KGRvY3VtZW50LmJvZHksRi5pb3NmaXgpLG5lKCl9fSgpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJnRlKCkmJihlZSgpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsZWUpKSxtKGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pLmZvckVhY2goZnVuY3Rpb24odCl7dD09PVcoKXx8ZnVuY3Rpb24odCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmNvbnRhaW5zKXJldHVybiB0LmNvbnRhaW5zKGUpfSh0LFcoKSl8fCh0Lmhhc0F0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpJiZ0LnNldEF0dHJpYnV0ZShcImRhdGEtcHJldmlvdXMtYXJpYS1oaWRkZW5cIix0LmdldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpKSx0LnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJ0cnVlXCIpKX0pLGUmJkd0KCksc2V0VGltZW91dChmdW5jdGlvbigpe3Quc2Nyb2xsVG9wPTB9KX0sUGU9ZnVuY3Rpb24odCxlLG4pe3V0KHQsbi5zaG93Q2xhc3MuYmFja2Ryb3ApLEcoZSksdXQoZSxuLnNob3dDbGFzcy5wb3B1cCksdXQoW2RvY3VtZW50LmRvY3VtZW50RWxlbWVudCxkb2N1bWVudC5ib2R5XSxGLnNob3duKSxuLmhlaWdodEF1dG8mJm4uYmFja2Ryb3AmJiFuLnRvYXN0JiZ1dChbZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGRvY3VtZW50LmJvZHldLEZbXCJoZWlnaHQtYXV0b1wiXSl9LEFlPWZ1bmN0aW9uKHQpe3JldHVybiB0LmNoZWNrZWQ/MTowfSxCZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5jaGVja2VkP3QudmFsdWU6bnVsbH0sU2U9ZnVuY3Rpb24odCl7cmV0dXJuIHQuZmlsZXMubGVuZ3RoP251bGwhPT10LmdldEF0dHJpYnV0ZShcIm11bHRpcGxlXCIpP3QuZmlsZXM6dC5maWxlc1swXTpudWxsfSxFZT1mdW5jdGlvbihlLG4pe2Z1bmN0aW9uIG8odCl7cmV0dXJuIFRlW24uaW5wdXRdKGksTGUodCksbil9dmFyIGk9aygpO2cobi5pbnB1dE9wdGlvbnMpPyhOdCgpLG4uaW5wdXRPcHRpb25zLnRoZW4oZnVuY3Rpb24odCl7ZS5oaWRlTG9hZGluZygpLG8odCl9KSk6XCJvYmplY3RcIj09PXIobi5pbnB1dE9wdGlvbnMpP28obi5pbnB1dE9wdGlvbnMpOnYoXCJVbmV4cGVjdGVkIHR5cGUgb2YgaW5wdXRPcHRpb25zISBFeHBlY3RlZCBvYmplY3QsIE1hcCBvciBQcm9taXNlLCBnb3QgXCIuY29uY2F0KHIobi5pbnB1dE9wdGlvbnMpKSl9LE9lPWZ1bmN0aW9uKGUsbil7dmFyIG89ZS5nZXRJbnB1dCgpO3R0KG8pLG4uaW5wdXRWYWx1ZS50aGVuKGZ1bmN0aW9uKHQpe28udmFsdWU9XCJudW1iZXJcIj09PW4uaW5wdXQ/cGFyc2VGbG9hdCh0KXx8MDpcIlwiLmNvbmNhdCh0KSxHKG8pLG8uZm9jdXMoKSxlLmhpZGVMb2FkaW5nKCl9KS5jYXRjaChmdW5jdGlvbih0KXt2KFwiRXJyb3IgaW4gaW5wdXRWYWx1ZSBwcm9taXNlOiBcIi5jb25jYXQodCkpLG8udmFsdWU9XCJcIixHKG8pLG8uZm9jdXMoKSxlLmhpZGVMb2FkaW5nKCl9KX0sVGU9e3NlbGVjdDpmdW5jdGlvbih0LGUsaSl7dmFyIHI9ZHQodCxGLnNlbGVjdCk7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtvLnZhbHVlPWUsTShvLG4pLGkuaW5wdXRWYWx1ZS50b1N0cmluZygpPT09ZS50b1N0cmluZygpJiYoby5zZWxlY3RlZD0hMCksci5hcHBlbmRDaGlsZChvKX0pLHIuZm9jdXMoKX0scmFkaW86ZnVuY3Rpb24odCxlLGEpe3ZhciBjPWR0KHQsRi5yYWRpbyk7ZS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBlPXRbMF0sbj10WzFdLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO28udHlwZT1cInJhZGlvXCIsby5uYW1lPUYucmFkaW8sby52YWx1ZT1lLGEuaW5wdXRWYWx1ZS50b1N0cmluZygpPT09ZS50b1N0cmluZygpJiYoby5jaGVja2VkPSEwKTt2YXIgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtNKHIsbiksci5jbGFzc05hbWU9Ri5sYWJlbCxpLmFwcGVuZENoaWxkKG8pLGkuYXBwZW5kQ2hpbGQociksYy5hcHBlbmRDaGlsZChpKX0pO3ZhciBuPWMucXVlcnlTZWxlY3RvckFsbChcImlucHV0XCIpO24ubGVuZ3RoJiZuWzBdLmZvY3VzKCl9fSxMZT1mdW5jdGlvbihlKXt2YXIgbj1bXTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgTWFwJiZlIGluc3RhbmNlb2YgTWFwP2UuZm9yRWFjaChmdW5jdGlvbih0LGUpe24ucHVzaChbZSx0XSl9KTpPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe24ucHVzaChbdCxlW3RdXSl9KSxufSxxZT1mdW5jdGlvbihlLG4pe3ZhciBvPWZ1bmN0aW9uKHQsZSl7dmFyIG49dC5nZXRJbnB1dCgpO2lmKCFuKXJldHVybiBudWxsO3N3aXRjaChlLmlucHV0KXtjYXNlXCJjaGVja2JveFwiOnJldHVybiBBZShuKTtjYXNlXCJyYWRpb1wiOnJldHVybiBCZShuKTtjYXNlXCJmaWxlXCI6cmV0dXJuIFNlKG4pO2RlZmF1bHQ6cmV0dXJuIGUuaW5wdXRBdXRvVHJpbT9uLnZhbHVlLnRyaW0oKTpuLnZhbHVlfX0oZSxuKTtuLmlucHV0VmFsaWRhdG9yPyhlLmRpc2FibGVJbnB1dCgpLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gbi5pbnB1dFZhbGlkYXRvcihvLG4udmFsaWRhdGlvbk1lc3NhZ2UpfSkudGhlbihmdW5jdGlvbih0KXtlLmVuYWJsZUJ1dHRvbnMoKSxlLmVuYWJsZUlucHV0KCksdD9lLnNob3dWYWxpZGF0aW9uTWVzc2FnZSh0KTpJZShlLG4sbyl9KSk6ZS5nZXRJbnB1dCgpLmNoZWNrVmFsaWRpdHkoKT9JZShlLG4sbyk6KGUuZW5hYmxlQnV0dG9ucygpLGUuc2hvd1ZhbGlkYXRpb25NZXNzYWdlKG4udmFsaWRhdGlvbk1lc3NhZ2UpKX0sSWU9ZnVuY3Rpb24oZSx0LG4peyh0LnNob3dMb2FkZXJPbkNvbmZpcm0mJk50KCksdC5wcmVDb25maXJtKT8oZS5yZXNldFZhbGlkYXRpb25NZXNzYWdlKCksUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbigpe3JldHVybiB0LnByZUNvbmZpcm0obix0LnZhbGlkYXRpb25NZXNzYWdlKX0pLnRoZW4oZnVuY3Rpb24odCl7cHQoQSgpKXx8ITE9PT10P2UuaGlkZUxvYWRpbmcoKTpiZShlLHZvaWQgMD09PXQ/bjp0KX0pKTpiZShlLG4pfSxqZT1bXCJBcnJvd0xlZnRcIixcIkFycm93UmlnaHRcIixcIkFycm93VXBcIixcIkFycm93RG93blwiLFwiTGVmdFwiLFwiUmlnaHRcIixcIlVwXCIsXCJEb3duXCJdLE1lPVtcIkVzY2FwZVwiLFwiRXNjXCJdLFZlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1DdC5pbm5lclBhcmFtcy5nZXQodCk7by5zdG9wS2V5ZG93blByb3BhZ2F0aW9uJiZlLnN0b3BQcm9wYWdhdGlvbigpLFwiRW50ZXJcIj09PWUua2V5P1JlKHQsZSxvKTpcIlRhYlwiPT09ZS5rZXk/SGUoZSxvKTotMSE9PWplLmluZGV4T2YoZS5rZXkpP0RlKCk6LTEhPT1NZS5pbmRleE9mKGUua2V5KSYmTmUoZSxvLG4pfSxSZT1mdW5jdGlvbih0LGUsbil7aWYoIWUuaXNDb21wb3NpbmcmJmUudGFyZ2V0JiZ0LmdldElucHV0KCkmJmUudGFyZ2V0Lm91dGVySFRNTD09PXQuZ2V0SW5wdXQoKS5vdXRlckhUTUwpe2lmKC0xIT09W1widGV4dGFyZWFcIixcImZpbGVcIl0uaW5kZXhPZihuLmlucHV0KSlyZXR1cm47SXQoKSxlLnByZXZlbnREZWZhdWx0KCl9fSxIZT1mdW5jdGlvbih0KXtmb3IodmFyIGU9dC50YXJnZXQsbj1JKCksbz0tMSxpPTA7aTxuLmxlbmd0aDtpKyspaWYoZT09PW5baV0pe289aTticmVha310LnNoaWZ0S2V5P3dlKDAsbywtMSk6d2UoMCxvLDEpLHQuc3RvcFByb3BhZ2F0aW9uKCksdC5wcmV2ZW50RGVmYXVsdCgpfSxEZT1mdW5jdGlvbigpe3ZhciB0PUIoKSxlPVMoKTtkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09dCYmcHQoZSk/ZS5mb2N1cygpOmRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ9PT1lJiZwdCh0KSYmdC5mb2N1cygpfSxOZT1mdW5jdGlvbih0LGUsbil7VShlLmFsbG93RXNjYXBlS2V5KSYmKHQucHJldmVudERlZmF1bHQoKSxuKF8uZXNjKSl9LFVlPWZ1bmN0aW9uKGUsdCxuKXt0LnBvcHVwLm9uY2xpY2s9ZnVuY3Rpb24oKXt2YXIgdD1DdC5pbm5lclBhcmFtcy5nZXQoZSk7dC5zaG93Q29uZmlybUJ1dHRvbnx8dC5zaG93Q2FuY2VsQnV0dG9ufHx0LnNob3dDbG9zZUJ1dHRvbnx8dC5pbnB1dHx8bihfLmNsb3NlKX19LF9lPSExLEZlPWZ1bmN0aW9uKGUpe2UucG9wdXAub25tb3VzZWRvd249ZnVuY3Rpb24oKXtlLmNvbnRhaW5lci5vbm1vdXNldXA9ZnVuY3Rpb24odCl7ZS5jb250YWluZXIub25tb3VzZXVwPXZvaWQgMCx0LnRhcmdldD09PWUuY29udGFpbmVyJiYoX2U9ITApfX19LHplPWZ1bmN0aW9uKGUpe2UuY29udGFpbmVyLm9ubW91c2Vkb3duPWZ1bmN0aW9uKCl7ZS5wb3B1cC5vbm1vdXNldXA9ZnVuY3Rpb24odCl7ZS5wb3B1cC5vbm1vdXNldXA9dm9pZCAwLHQudGFyZ2V0IT09ZS5wb3B1cCYmIWUucG9wdXAuY29udGFpbnModC50YXJnZXQpfHwoX2U9ITApfX19LFdlPWZ1bmN0aW9uKG4sbyxpKXtvLmNvbnRhaW5lci5vbmNsaWNrPWZ1bmN0aW9uKHQpe3ZhciBlPUN0LmlubmVyUGFyYW1zLmdldChuKTtfZT9fZT0hMTp0LnRhcmdldD09PW8uY29udGFpbmVyJiZVKGUuYWxsb3dPdXRzaWRlQ2xpY2spJiZpKF8uYmFja2Ryb3ApfX07dmFyIEtlPWZ1bmN0aW9uKHQsZSxuKXt2YXIgbz1MKCk7dHQobyksZS50aW1lciYmKHQudGltZW91dD1uZXcgbGUoZnVuY3Rpb24oKXtuKFwidGltZXJcIiksZGVsZXRlIHQudGltZW91dH0sZS50aW1lciksZS50aW1lclByb2dyZXNzQmFyJiYoRyhvKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC50aW1lb3V0LnJ1bm5pbmcmJm90KGUudGltZXIpfSkpKX0sWWU9ZnVuY3Rpb24odCxlKXtpZighZS50b2FzdClyZXR1cm4gVShlLmFsbG93RW50ZXJLZXkpP2UuZm9jdXNDYW5jZWwmJnB0KHQuY2FuY2VsQnV0dG9uKT90LmNhbmNlbEJ1dHRvbi5mb2N1cygpOmUuZm9jdXNDb25maXJtJiZwdCh0LmNvbmZpcm1CdXR0b24pP3QuY29uZmlybUJ1dHRvbi5mb2N1cygpOnZvaWQgd2UoMCwtMSwxKTpaZSgpfSxaZT1mdW5jdGlvbigpe2RvY3VtZW50LmFjdGl2ZUVsZW1lbnQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuYmx1ciYmZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCl9O3ZhciBRZSwkZT1mdW5jdGlvbih0KXtmb3IodmFyIGUgaW4gdCl0W2VdPW5ldyBXZWFrTWFwfSxKZT1PYmplY3QuZnJlZXplKHtoaWRlTG9hZGluZzpYdCxkaXNhYmxlTG9hZGluZzpYdCxnZXRJbnB1dDpmdW5jdGlvbih0KXt2YXIgZT1DdC5pbm5lclBhcmFtcy5nZXQodHx8dGhpcyksbj1DdC5kb21DYWNoZS5nZXQodHx8dGhpcyk7cmV0dXJuIG4/UShuLmNvbnRlbnQsZS5pbnB1dCk6bnVsbH0sY2xvc2U6cmUsY2xvc2VQb3B1cDpyZSxjbG9zZU1vZGFsOnJlLGNsb3NlVG9hc3Q6cmUsZW5hYmxlQnV0dG9uczpmdW5jdGlvbigpe3NlKHRoaXMsW1wiY29uZmlybUJ1dHRvblwiLFwiY2FuY2VsQnV0dG9uXCJdLCExKX0sZGlzYWJsZUJ1dHRvbnM6ZnVuY3Rpb24oKXtzZSh0aGlzLFtcImNvbmZpcm1CdXR0b25cIixcImNhbmNlbEJ1dHRvblwiXSwhMCl9LGVuYWJsZUlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHVlKHRoaXMuZ2V0SW5wdXQoKSwhMSl9LGRpc2FibGVJbnB1dDpmdW5jdGlvbigpe3JldHVybiB1ZSh0aGlzLmdldElucHV0KCksITApfSxzaG93VmFsaWRhdGlvbk1lc3NhZ2U6ZnVuY3Rpb24odCl7dmFyIGU9Q3QuZG9tQ2FjaGUuZ2V0KHRoaXMpO00oZS52YWxpZGF0aW9uTWVzc2FnZSx0KTt2YXIgbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLnBvcHVwKTtlLnZhbGlkYXRpb25NZXNzYWdlLnN0eWxlLm1hcmdpbkxlZnQ9XCItXCIuY29uY2F0KG4uZ2V0UHJvcGVydHlWYWx1ZShcInBhZGRpbmctbGVmdFwiKSksZS52YWxpZGF0aW9uTWVzc2FnZS5zdHlsZS5tYXJnaW5SaWdodD1cIi1cIi5jb25jYXQobi5nZXRQcm9wZXJ0eVZhbHVlKFwicGFkZGluZy1yaWdodFwiKSksRyhlLnZhbGlkYXRpb25NZXNzYWdlKTt2YXIgbz10aGlzLmdldElucHV0KCk7byYmKG8uc2V0QXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIsITApLG8uc2V0QXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRCeVwiLEZbXCJ2YWxpZGF0aW9uLW1lc3NhZ2VcIl0pLCQobyksdXQobyxGLmlucHV0ZXJyb3IpKX0scmVzZXRWYWxpZGF0aW9uTWVzc2FnZTpmdW5jdGlvbigpe3ZhciB0PUN0LmRvbUNhY2hlLmdldCh0aGlzKTt0LnZhbGlkYXRpb25NZXNzYWdlJiZ0dCh0LnZhbGlkYXRpb25NZXNzYWdlKTt2YXIgZT10aGlzLmdldElucHV0KCk7ZSYmKGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1pbnZhbGlkXCIpLGUucmVtb3ZlQXR0cmlidXRlKFwiYXJpYS1kZXNjcmliZWRCeVwiKSxsdChlLEYuaW5wdXRlcnJvcikpfSxnZXRQcm9ncmVzc1N0ZXBzOmZ1bmN0aW9uKCl7cmV0dXJuIEN0LmRvbUNhY2hlLmdldCh0aGlzKS5wcm9ncmVzc1N0ZXBzfSxfbWFpbjpmdW5jdGlvbih0KXshZnVuY3Rpb24odCl7Zm9yKHZhciBlIGluIHQpenQoaT1lKXx8RCgnVW5rbm93biBwYXJhbWV0ZXIgXCInLmNvbmNhdChpLCdcIicpKSx0LnRvYXN0JiYobz1lLC0xIT09JHQuaW5kZXhPZihvKSYmRCgnVGhlIHBhcmFtZXRlciBcIicuY29uY2F0KG8sJ1wiIGlzIGluY29tcGF0aWJsZSB3aXRoIHRvYXN0cycpKSksV3Qobj1lKSYmaChuLFd0KG4pKTt2YXIgbixvLGl9KHQpLEt0LmN1cnJlbnRJbnN0YW5jZSYmS3QuY3VycmVudEluc3RhbmNlLl9kZXN0cm95KCksS3QuY3VycmVudEluc3RhbmNlPXRoaXM7dmFyIGU9ZnVuY3Rpb24odCl7dmFyIGU9Yyh7fSxZdC5zaG93Q2xhc3MsdC5zaG93Q2xhc3MpLG49Yyh7fSxZdC5oaWRlQ2xhc3MsdC5oaWRlQ2xhc3MpLG89Yyh7fSxZdCx0KTtpZihvLnNob3dDbGFzcz1lLG8uaGlkZUNsYXNzPW4sdC5hbmltYXRpb249PT1mYWxzZSl7by5zaG93Q2xhc3M9e3BvcHVwOlwic3dhbDItbm9hbmltYXRpb25cIixiYWNrZHJvcDpcInN3YWwyLW5vYW5pbWF0aW9uXCJ9O28uaGlkZUNsYXNzPXt9fXJldHVybiBvfSh0KTtwZShlKSxPYmplY3QuZnJlZXplKGUpLEt0LnRpbWVvdXQmJihLdC50aW1lb3V0LnN0b3AoKSxkZWxldGUgS3QudGltZW91dCksY2xlYXJUaW1lb3V0KEt0LnJlc3RvcmVGb2N1c1RpbWVvdXQpO3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBlPXtwb3B1cDpLKCksY29udGFpbmVyOlcoKSxjb250ZW50OmsoKSxhY3Rpb25zOkUoKSxjb25maXJtQnV0dG9uOkIoKSxjYW5jZWxCdXR0b246UygpLGNsb3NlQnV0dG9uOnEoKSx2YWxpZGF0aW9uTWVzc2FnZTpBKCkscHJvZ3Jlc3NTdGVwczpQKCl9O3JldHVybiBDdC5kb21DYWNoZS5zZXQodCxlKSxlfSh0aGlzKTtyZXR1cm4gcXQodGhpcyxlKSxDdC5pbm5lclBhcmFtcy5zZXQodGhpcyxlKSxmdW5jdGlvbihuLG8saSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uIHQoZSl7bi5jbG9zZVBvcHVwKHtkaXNtaXNzOmV9KX07b2Uuc3dhbFByb21pc2VSZXNvbHZlLnNldChuLHQpO28uY29uZmlybUJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIGdlKG4saSl9O28uY2FuY2VsQnV0dG9uLm9uY2xpY2s9ZnVuY3Rpb24oKXtyZXR1cm4gdmUobixlKX07by5jbG9zZUJ1dHRvbi5vbmNsaWNrPWZ1bmN0aW9uKCl7cmV0dXJuIGUoXy5jbG9zZSl9O0NlKG4sbyxlKTt5ZShuLEt0LGksZSk7aWYoaS50b2FzdCYmKGkuaW5wdXR8fGkuZm9vdGVyfHxpLnNob3dDbG9zZUJ1dHRvbikpe3V0KGRvY3VtZW50LmJvZHksRltcInRvYXN0LWNvbHVtblwiXSl9ZWxzZXtsdChkb2N1bWVudC5ib2R5LEZbXCJ0b2FzdC1jb2x1bW5cIl0pfWhlKG4saSk7ZmUoaSk7S2UoS3QsaSxlKTtZZShvLGkpO28uY29udGFpbmVyLnNjcm9sbFRvcD0wfSl9KHRoaXMsbixlKX0sdXBkYXRlOmZ1bmN0aW9uKGUpe3ZhciB0PUsoKSxuPUN0LmlubmVyUGFyYW1zLmdldCh0aGlzKTtpZighdHx8Vih0LG4uaGlkZUNsYXNzLnBvcHVwKSlyZXR1cm4gRChcIllvdSdyZSB0cnlpbmcgdG8gdXBkYXRlIHRoZSBjbG9zZWQgb3IgY2xvc2luZyBwb3B1cCwgdGhhdCB3b24ndCB3b3JrLiBVc2UgdGhlIHVwZGF0ZSgpIG1ldGhvZCBpbiBwcmVDb25maXJtIHBhcmFtZXRlciBvciBzaG93IGEgbmV3IHBvcHVwLlwiKTt2YXIgbz17fTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe0dlLmlzVXBkYXRhYmxlUGFyYW1ldGVyKHQpP29bdF09ZVt0XTpEKCdJbnZhbGlkIHBhcmFtZXRlciB0byB1cGRhdGU6IFwiJy5jb25jYXQodCwnXCIuIFVwZGF0YWJsZSBwYXJhbXMgYXJlIGxpc3RlZCBoZXJlOiBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvYmxvYi9tYXN0ZXIvc3JjL3V0aWxzL3BhcmFtcy5qcycpKX0pO3ZhciBpPWMoe30sbixvKTtxdCh0aGlzLGkpLEN0LmlubmVyUGFyYW1zLnNldCh0aGlzLGkpLE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRoaXMse3BhcmFtczp7dmFsdWU6Yyh7fSx0aGlzLnBhcmFtcyxlKSx3cml0YWJsZTohMSxlbnVtZXJhYmxlOiEwfX0pfSxfZGVzdHJveTpmdW5jdGlvbigpe3ZhciB0PUN0LmRvbUNhY2hlLmdldCh0aGlzKSxlPUN0LmlubmVyUGFyYW1zLmdldCh0aGlzKTtlJiYodC5wb3B1cCYmS3Quc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrJiYoS3Quc3dhbENsb3NlRXZlbnRGaW5pc2hlZENhbGxiYWNrKCksZGVsZXRlIEt0LnN3YWxDbG9zZUV2ZW50RmluaXNoZWRDYWxsYmFjayksS3QuZGVmZXJEaXNwb3NhbFRpbWVyJiYoY2xlYXJUaW1lb3V0KEt0LmRlZmVyRGlzcG9zYWxUaW1lciksZGVsZXRlIEt0LmRlZmVyRGlzcG9zYWxUaW1lciksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vbkRlc3Ryb3kmJmUub25EZXN0cm95KCksZGVsZXRlIHRoaXMucGFyYW1zLGRlbGV0ZSBLdC5rZXlkb3duSGFuZGxlcixkZWxldGUgS3Qua2V5ZG93blRhcmdldCwkZShDdCksJGUob2UpKX19KTtmdW5jdGlvbiBYZSgpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cpe1widW5kZWZpbmVkXCI9PXR5cGVvZiBQcm9taXNlJiZ2KFwiVGhpcyBwYWNrYWdlIHJlcXVpcmVzIGEgUHJvbWlzZSBsaWJyYXJ5LCBwbGVhc2UgaW5jbHVkZSBhIHNoaW0gdG8gZW5hYmxlIGl0IGluIHRoaXMgYnJvd3NlciAoU2VlOiBodHRwczovL2dpdGh1Yi5jb20vc3dlZXRhbGVydDIvc3dlZXRhbGVydDIvd2lraS9NaWdyYXRpb24tZnJvbS1Td2VldEFsZXJ0LXRvLVN3ZWV0QWxlcnQyIzEtaWUtc3VwcG9ydClcIiksUWU9dGhpcztmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTt2YXIgbz1PYmplY3QuZnJlZXplKHRoaXMuY29uc3RydWN0b3IuYXJnc1RvUGFyYW1zKGUpKTtPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLHtwYXJhbXM6e3ZhbHVlOm8sd3JpdGFibGU6ITEsZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9fSk7dmFyIGk9dGhpcy5fbWFpbih0aGlzLnBhcmFtcyk7Q3QucHJvbWlzZS5zZXQodGhpcyxpKX19WGUucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24odCl7cmV0dXJuIEN0LnByb21pc2UuZ2V0KHRoaXMpLnRoZW4odCl9LFhlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKHQpe3JldHVybiBDdC5wcm9taXNlLmdldCh0aGlzKS5maW5hbGx5KHQpfSxjKFhlLnByb3RvdHlwZSxKZSksYyhYZSxKdCksT2JqZWN0LmtleXMoSmUpLmZvckVhY2goZnVuY3Rpb24odCl7WGVbdF09ZnVuY3Rpb24oKXtpZihRZSlyZXR1cm4gUWVbdF0uYXBwbHkoUWUsYXJndW1lbnRzKX19KSxYZS5EaXNtaXNzUmVhc29uPV8sWGUudmVyc2lvbj1cIjkuMTAuMTBcIjt2YXIgR2U9WGU7cmV0dXJuIEdlLmRlZmF1bHQ9R2V9KSx2b2lkIDAhPT10aGlzJiZ0aGlzLlN3ZWV0YWxlcnQyJiYodGhpcy5zd2FsPXRoaXMuc3dlZXRBbGVydD10aGlzLlN3YWw9dGhpcy5Td2VldEFsZXJ0PXRoaXMuU3dlZXRhbGVydDIpOyIsIi8qIVxuICogd2Vha21hcC1wb2x5ZmlsbCB2Mi4wLjIgLSBFQ01BU2NyaXB0NiBXZWFrTWFwIHBvbHlmaWxsXG4gKiBodHRwczovL2dpdGh1Yi5jb20vcG9seWdvbnBsYW5ldC93ZWFrbWFwLXBvbHlmaWxsXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtMjAyMCBQb2x5Z29uIFBsYW5ldCA8cG9seWdvbi5wbGFuZXQuYXF1YUBnbWFpbC5jb20+XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuXG4oZnVuY3Rpb24oc2VsZikge1xuICAndXNlIHN0cmljdCc7XG5cbiAgaWYgKHNlbGYuV2Vha01hcCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG4gIHZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZSwgdmFsdWUpIHtcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBuYW1lLCB7XG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdFtuYW1lXSA9IHZhbHVlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLldlYWtNYXAgPSAoZnVuY3Rpb24oKSB7XG5cbiAgICAvLyBFQ01BLTI2MiAyMy4zIFdlYWtNYXAgT2JqZWN0c1xuICAgIGZ1bmN0aW9uIFdlYWtNYXAoKSB7XG4gICAgICBpZiAodGhpcyA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDb25zdHJ1Y3RvciBXZWFrTWFwIHJlcXVpcmVzICduZXcnXCIpO1xuICAgICAgfVxuXG4gICAgICBkZWZpbmVQcm9wZXJ0eSh0aGlzLCAnX2lkJywgZ2VuSWQoJ19XZWFrTWFwJykpO1xuXG4gICAgICAvLyBFQ01BLTI2MiAyMy4zLjEuMSBXZWFrTWFwKFtpdGVyYWJsZV0pXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgLy8gQ3VycmVudGx5LCBXZWFrTWFwIGBpdGVyYWJsZWAgYXJndW1lbnQgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdXZWFrTWFwIGl0ZXJhYmxlIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBFQ01BLTI2MiAyMy4zLjMuMiBXZWFrTWFwLnByb3RvdHlwZS5kZWxldGUoa2V5KVxuICAgIGRlZmluZVByb3BlcnR5KFdlYWtNYXAucHJvdG90eXBlLCAnZGVsZXRlJywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdkZWxldGUnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIGRlbGV0ZSBrZXlbdGhpcy5faWRdO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjMgV2Vha01hcC5wcm90b3R5cGUuZ2V0KGtleSlcbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2dldCcsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnZ2V0Jyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwO1xuICAgICAgfVxuXG4gICAgICB2YXIgZW50cnkgPSBrZXlbdGhpcy5faWRdO1xuICAgICAgaWYgKGVudHJ5ICYmIGVudHJ5WzBdID09PSBrZXkpIHtcbiAgICAgICAgcmV0dXJuIGVudHJ5WzFdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH0pO1xuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjQgV2Vha01hcC5wcm90b3R5cGUuaGFzKGtleSlcbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLnByb3RvdHlwZSwgJ2hhcycsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgY2hlY2tJbnN0YW5jZSh0aGlzLCAnaGFzJyk7XG5cbiAgICAgIGlmICghaXNPYmplY3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciBlbnRyeSA9IGtleVt0aGlzLl9pZF07XG4gICAgICBpZiAoZW50cnkgJiYgZW50cnlbMF0gPT09IGtleSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0pO1xuXG4gICAgLy8gRUNNQS0yNjIgMjMuMy4zLjUgV2Vha01hcC5wcm90b3R5cGUuc2V0KGtleSwgdmFsdWUpXG4gICAgZGVmaW5lUHJvcGVydHkoV2Vha01hcC5wcm90b3R5cGUsICdzZXQnLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICBjaGVja0luc3RhbmNlKHRoaXMsICdzZXQnKTtcblxuICAgICAgaWYgKCFpc09iamVjdChrZXkpKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgdmFsdWUgdXNlZCBhcyB3ZWFrIG1hcCBrZXknKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVudHJ5ID0ga2V5W3RoaXMuX2lkXTtcbiAgICAgIGlmIChlbnRyeSAmJiBlbnRyeVswXSA9PT0ga2V5KSB7XG4gICAgICAgIGVudHJ5WzFdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBkZWZpbmVQcm9wZXJ0eShrZXksIHRoaXMuX2lkLCBba2V5LCB2YWx1ZV0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSk7XG5cblxuICAgIGZ1bmN0aW9uIGNoZWNrSW5zdGFuY2UoeCwgbWV0aG9kTmFtZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh4KSB8fCAhaGFzT3duUHJvcGVydHkuY2FsbCh4LCAnX2lkJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgICBtZXRob2ROYW1lICsgJyBtZXRob2QgY2FsbGVkIG9uIGluY29tcGF0aWJsZSByZWNlaXZlciAnICtcbiAgICAgICAgICB0eXBlb2YgeFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdlbklkKHByZWZpeCkge1xuICAgICAgcmV0dXJuIHByZWZpeCArICdfJyArIHJhbmQoKSArICcuJyArIHJhbmQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByYW5kKCkge1xuICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHJpbmcoMik7XG4gICAgfVxuXG5cbiAgICBkZWZpbmVQcm9wZXJ0eShXZWFrTWFwLCAnX3BvbHlmaWxsJywgdHJ1ZSk7XG4gICAgcmV0dXJuIFdlYWtNYXA7XG4gIH0pKCk7XG5cblxuICBmdW5jdGlvbiBpc09iamVjdCh4KSB7XG4gICAgcmV0dXJuIE9iamVjdCh4KSA9PT0geDtcbiAgfVxuXG59KShcbiAgdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6XG4gIHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93IDpcbiAgdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0aGlzXG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==